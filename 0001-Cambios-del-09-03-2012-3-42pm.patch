From 9b20181a1d1283341e6e5a5015ba14e75dbcedd5 Mon Sep 17 00:00:00 2001
From: kenny <kennymendieta89@hotmail.com>
Date: Fri, 9 Mar 2012 15:42:25 -0600
Subject: [PATCH 1/2] Cambios del 09/03/2012 3:42pm

---
 build/web/WEB-INF/classes/hibernate.cfg.xml |    2 +-
 build/web/WEB-INF/dwr.xml                   |   18 +
 build/web/WEB-INF/web.xml                   |   68 ++-
 build/web/acerca_de.jsp                     |    4 +-
 build/web/contacto.jsp                      |    4 +-
 build/web/controlPanel.jsp                  |  769 ++++++++++++++++++---
 build/web/images/logo.gif                   |  Bin 7763 -> 8399 bytes
 build/web/index.jsp                         |    8 +-
 build/web/initCapacitador.jsp               |  193 ++++--
 build/web/instrument.jsp                    |  224 ++++--
 build/web/logger.jsp                        |   48 +-
 build/web/main_admin.jsp                    | 1000 ++++++++++++++++++---------
 build/web/register.jsp                      |  201 ++++--
 build/web/resources/Nuestro_CSS.css         |   64 ++-
 build/web/resources/css/layout.css          |   74 +-
 build/web/resources/css/message.css         |   10 +-
 build/web/resources/settings.xml            |    6 +-
 build/web/resources/style.css               |    3 +
 build/web/resultado.jsp                     |   54 ++-
 nbproject/private/private.properties        |    8 +-
 nbproject/project.properties                |    2 +-
 src/java/hibernate.cfg.xml                  |    2 +-
 web/admin_instrument.jsp                    |  458 ------------
 web/main_admin.jsp                          |  619 -----------------
 24 files changed, 2089 insertions(+), 1750 deletions(-)
 delete mode 100644 web/admin_instrument.jsp
 delete mode 100644 web/main_admin.jsp

diff --git a/build/web/WEB-INF/classes/hibernate.cfg.xml b/build/web/WEB-INF/classes/hibernate.cfg.xml
index 8ea39ca..cadc343 100644
--- a/build/web/WEB-INF/classes/hibernate.cfg.xml
+++ b/build/web/WEB-INF/classes/hibernate.cfg.xml
@@ -6,7 +6,7 @@
     <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
     <property name="hibernate.connection.url">jdbc:mysql://localhost:3306/sece</property>
     <property name="hibernate.connection.username">root</property>
-    <property name="hibernate.connection.password">s3c3/*01*/</property>
+    <property name="hibernate.connection.password">nightmare</property>
     <property name="hibernate.current_session_context_class">thread</property>
     <property name="hibernate.hbm2ddl.auto"> update </property>
     <mapping resource="mapping/Zone.hbm.xml"/>
diff --git a/build/web/WEB-INF/dwr.xml b/build/web/WEB-INF/dwr.xml
index d982ecc..f64266d 100644
--- a/build/web/WEB-INF/dwr.xml
+++ b/build/web/WEB-INF/dwr.xml
@@ -10,6 +10,24 @@
      <create creator="new" javascript="interaccion">
       <param name="class" value="dwrScripts.interaccion_instrum"/>
     </create>
+    <create creator="new" javascript="chat">
+      <param name="class" value="dwrScripts.JavascriptChat"/>
+    </create>
+    <create creator="new" javascript="updating">
+      <param name="class" value="dwrScripts.updateAdmin"/>
+    </create>
+    <create creator="new" javascript="capacitadoresDWR">
+      <param name="class" value="dwrScripts.capacitadores"/>
+    </create>
+    <create creator="new" javascript="instrumentoDWR">
+      <param name="class" value="dwrScripts.instrumentoAdministrador"/>
+    </create>
+    <create creator="new" javascript="updates">
+      <param name="class" value="dwrScripts.updatesAdmin"/>
+    </create>
+    <create creator="new" javascript="panel">
+      <param name="class" value="dwrScripts.controlPanelContacto"/>
+    </create>
     <convert converter="bean" match="pojo.Item" javascript="Item" />
     <convert converter="bean" match="pojo.Variable" javascript="Variable" />
   </allow>
diff --git a/build/web/WEB-INF/web.xml b/build/web/WEB-INF/web.xml
index 56ca44b..a750537 100644
--- a/build/web/WEB-INF/web.xml
+++ b/build/web/WEB-INF/web.xml
@@ -48,6 +48,34 @@
         <servlet-name>GraficoResultado</servlet-name>
         <servlet-class>servlet.GraficoResultado</servlet-class>
     </servlet>
+    <servlet>
+        <servlet-name>BusquedaVariables</servlet-name>
+        <servlet-class>servlet.BusquedaVariables</servlet-class>
+    </servlet>
+    <servlet>
+        <servlet-name>BusquedaItems</servlet-name>
+        <servlet-class>servlet.BusquedaItems</servlet-class>
+    </servlet>
+    <servlet>
+        <servlet-name>GraficoHistorial</servlet-name>
+        <servlet-class>servlet.GraficoHistorial</servlet-class>
+    </servlet>
+    <servlet>
+        <servlet-name>settingGraficoHistorial</servlet-name>
+        <servlet-class>servlet.settingGraficoHistorial</servlet-class>
+    </servlet>
+    <servlet>
+        <servlet-name>InsertarVideoChat</servlet-name>
+        <servlet-class>servlet.InsertarVideoChat</servlet-class>
+    </servlet>
+    <servlet>
+        <servlet-name>intrumento</servlet-name>
+        <servlet-class>servlet.instrumento</servlet-class>
+    </servlet>
+    <servlet>
+        <servlet-name>reportUsers</servlet-name>
+        <servlet-class>servlet.reportUsers</servlet-class>
+    </servlet>
     <servlet-mapping>
         <servlet-name>saveIndicador</servlet-name>
         <url-pattern>/saveIndicador</url-pattern>
@@ -113,12 +141,46 @@
         <servlet-name>GraficoResultado</servlet-name>
         <url-pattern>/GraficoResultado</url-pattern>
     </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>BusquedaVariables</servlet-name>
+        <url-pattern>/BusquedaVariables</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>BusquedaItems</servlet-name>
+        <url-pattern>/BusquedaItems</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>GraficoHistorial</servlet-name>
+        <url-pattern>/GraficoHistorial</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>settingGraficoHistorial</servlet-name>
+        <url-pattern>/settingGraficoHistorial</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>InsertarVideoChat</servlet-name>
+        <url-pattern>/InsertarVideoChat</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>intrumento</servlet-name>
+        <url-pattern>/intrumento</url-pattern>
+    </servlet-mapping>
+    <servlet-mapping>
+        <servlet-name>reportUsers</servlet-name>
+        <url-pattern>/reportUsers</url-pattern>
+    </servlet-mapping>
     <session-config>
-        <session-timeout>
-            30
-        </session-timeout>
+        <session-timeout>30</session-timeout>
         <cookie-config>
             <http-only>false</http-only>
         </cookie-config>
     </session-config>
+    <error-page>
+        <error-code>404</error-code>
+        <location>/ErrorPage.jsp</location>
+    </error-page> 
+    <error-page>
+        <error-code>500</error-code>
+        <location>/Error500.jsp</location>
+    </error-page>
 </web-app>
diff --git a/build/web/acerca_de.jsp b/build/web/acerca_de.jsp
index 00d8784..e30847b 100644
--- a/build/web/acerca_de.jsp
+++ b/build/web/acerca_de.jsp
@@ -11,7 +11,7 @@
 <html>
     <head>
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-        <title>JSP Page</title>
+        <title>Acerca de</title>
         <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
         <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
@@ -39,7 +39,7 @@
         </ul>
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="logo"><img src="images/logo.gif" width="290" height="80" border="0" alt="logo" /></div>      
       <div class="clr"></div>
     </div>
   </div> 
diff --git a/build/web/contacto.jsp b/build/web/contacto.jsp
index afbd0ec..36fb444 100644
--- a/build/web/contacto.jsp
+++ b/build/web/contacto.jsp
@@ -12,7 +12,7 @@
 <html>
     <head>
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-        <title>JSP Page</title>
+        <title>Contactenos</title>
         <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
         <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
@@ -40,7 +40,7 @@
         </ul>
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="logo"><img src="images/logo.gif" width="290" height="80" border="0" alt="logo" /></div>      
       <div class="clr"></div>
     </div>
   </div> 
diff --git a/build/web/controlPanel.jsp b/build/web/controlPanel.jsp
index 96725d6..22820b2 100644
--- a/build/web/controlPanel.jsp
+++ b/build/web/controlPanel.jsp
@@ -4,6 +4,12 @@
     Author     : mamg
 --%>
 
+<%@page import="pojo.Acceso"%>
+<%@page import="daoImpl.AccesoDaoImpl"%>
+<%@page import="pojo.Empresa"%>
+<%@page import="daoImpl.EmpresaDaoImpl"%>
+<%@page import="pojo.Contrato"%>
+<%@page import="daoImpl.ContratoDaoImpl"%>
 <%@page import="pojo.Avance"%>
 <%@page import="daoImpl.AvanceDaoImpl"%>
 <%@page import="pojo.DelegacionIndiUsu"%>
@@ -30,49 +36,70 @@ response.setDateHeader("Expires", 0);
     <head>
         <%
        HttpSession sesion=request.getSession();
-       String user = (String) sesion.getAttribute("idUser");
+       sesion.setMaxInactiveInterval(3600);
+       String acc = (String) sesion.getAttribute("idAcc");
        
-       int id_usuario = Integer.parseInt(user);
+       String name,nombre_variable,nombre_indicador,nombre_usuario,cargo,telefono,correo,direccion;
+       int tipo,indi,actual,total_var;
+       int idEmpresa =0;       
+       int idContrato =0;
+       
+       // variable para la empresa
+       String nombre_empresa="";
+       String descripcion=""; 
+       String tel_empresa="";
+       String dir_empresa=""; 
+       
+       if(acc==null){
+              response.sendRedirect("index.jsp");
+           }else{
+       
+       AccesoDaoImpl daoAcceso = new AccesoDaoImpl();
+       Acceso acceso = daoAcceso.findById(Integer.parseInt(acc));
+       
+       int id_usuario = acceso.getUsuario().getIdUsuario();
        UsuarioDaoImpl usuDao = new UsuarioDaoImpl();
        Usuario usuario = new Usuario();
        usuario = usuDao.findById(id_usuario);
-       
-       String name,nombre_variable,nombre_indicador;
-       int tipo,indi,contrato,actual,total_var;
-       
+                     
+       nombre_usuario = usuario.getNombre();
+       cargo = usuario.getCargo();
+       telefono = usuario.getTelefono();
+       correo = usuario.getCorreo();
+       direccion = usuario.getDireccion();       
        
        name = usuario.getNombre();
        tipo = usuario.getTipoUsuario();
        
-      //if(tipo==4){
-            
-           //como es tipo delegado, obtengo que indicador esta trabajando y el contrato al que pertenece
-           DelegacionIndiUsuDaoImpl delimpl = new DelegacionIndiUsuDaoImpl();
-           DelegacionIndiUsu dele = new DelegacionIndiUsu(); 
-           dele = delimpl.findByUsuario(usuario); 
+      if(tipo==4){
+           
+          DelegacionIndiUsuDaoImpl delimpl = new DelegacionIndiUsuDaoImpl();
+          DelegacionIndiUsu dele = new DelegacionIndiUsu(); 
+          dele = delimpl.getDelByContCurrentlyandUsu(usuario); 
 
-           IndicadorDaoImpl indiDao = new IndicadorDaoImpl();
-           Indicador indicador = indiDao.findById(dele.getIndicador().getIdIndicador());                         
-           indi = indicador.getIdIndicador();//indi el Indicador en el cual estamos
-           nombre_indicador = indicador.getNombre();
-           contrato = dele.getContrato().getIdContrato();//id_contrato
+          //obtenemos el contrato          
+          idContrato = dele.getContrato().getIdContrato();
            
-           //miro donde quedo la ultima vez
-           AvanceDaoImpl avaDao = new AvanceDaoImpl();
-           Avance avance = new Avance();
-           avance = avaDao.findByIndiAndContra(indi, contrato);              
-           actual = avance.getVar();//actual representa a la Variable actual 
-       
-           //buscar el nombre de la variable
-           VariableDaoImpl varDao = new VariableDaoImpl();
-           List<Variable> listVariable = new ArrayList<Variable>();
-           listVariable = varDao.findByIndicador(dele.getIndicador());
-           Variable variable = new Variable();
-           variable = listVariable.get(actual);
-           nombre_variable = variable.getNombre();
-           total_var = listVariable.size();//numero total de variable de ese indicador, comienza de 1          
+       }else if(tipo==3){
            
-       //}       
+           ContratoDaoImpl daoContra = new ContratoDaoImpl();
+           Contrato contrato = (Contrato) daoContra.findByUsuario(usuario);//donde el estado sea igual 1
+           idContrato = contrato.getIdContrato();          
+           
+           EmpresaDaoImpl daoEmpresa = new EmpresaDaoImpl();
+           idEmpresa = usuario.getEmpresa().getIdEmpresa();
+           Empresa empresa = daoEmpresa.findByID(idEmpresa);
+
+           nombre_empresa = empresa.getNombre();
+           descripcion = empresa.getDescripcion();
+           tel_empresa = empresa.getTelefono();
+           dir_empresa = empresa.getDireccion();                        
+
+      }else if(tipo==2){
+          response.sendRedirect("index.jsp");
+      }else if(tipo==1){
+          response.sendRedirect("index.jsp");
+      }
                  
     %>
         
@@ -80,34 +107,82 @@ response.setDateHeader("Expires", 0);
         <META HTTP-EQUIV="Expires" CONTENT="-1">
         <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
         <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
-        <title>SECE</title>
+        <title>Panel de Control</title>
         
+        <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
         <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
 	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
         
         <link href="resources/style.css" rel="stylesheet" type="text/css" />
         <link href="resources/css/message.css" rel="stylesheet" type="text/css" />
+        <script type="text/javascript" src="resources/jquery/js/jquery.validate.js"></script>            
         
-        
-        <script type="text/javascript" src="/sece/dwr/interface/interaccion.js"></script>        
+        <script type="text/javascript" src="/sece/dwr/interface/panel.js"></script>        
         <script type="text/javascript" src="/sece/dwr/engine.js"></script>
         <script type="text/javascript" src="/sece/dwr/util.js"></script>
         
         <script type="text/javascript" >
             
             var num_item=0;
-            var actual_var = <%=actual%>;
-            var total_vari = <%=total_var%>;
-            
+            var IdEmpresa=0;
+            var IdContrato = <%=idContrato%>;
+            var tipo = <%=tipo%>;
+            var IdUsuario = <%=id_usuario%>;
+            var indicadorChange;
+            var nombre = "hola";
+                        
             $(function() {
-		$( "#buttonnnext" ).button();  
-                   
-                    if(actual_var == (total_vari -1)){
-                        alert("Es la ultima");
-                    }else{
-                        //obtener(<%=indi%>,<%=actual%>);               
-                    }
+		$( "#btnagregar" ).button();  
+                $( "#btnupdatInfo" ).button(); 
+                $( "#btnupdatContra" ).button(); 
+                $( "#btnupdatEmpresa" ).button();
+                $( "#btnVCUser" ).button();
+                $( "#tabs" ).tabs();  
+                
+                if(tipo==4){
+                   $("#tabs").tabs( "remove" , 2 );
+                   $("#tabs").tabs( "remove" , 3 );
+                }else{
+                    IdEmpresa= <%=idEmpresa%>;
+                    obtenerDatosEmpresa();
+                    obtenerDatosUsuario();
+                    cargarComboIndicador();                    
+                    $("#new").click();
+                }
+                //llamar
+                getDelegados();
+                $( "#box_message" ).hide();//escondo el contenido del div para los mensajes
+                
+    $( "#dialog:ui-dialog" ).dialog( "destroy" );
+    $( "#dialog-confirm" ).dialog({
+			autoOpen: false,
+                        resizable: false,
+			height:250,
+			modal: true,
+			buttons: {
+				Aceptar: function() { 
+                                    
+                                        if( $("#combo1").is(":checked") ){
+                                            //aqui si selecciono un usuario del combo
+                                            panel.cambiarResponsableIndicador(indicadorChange,$("#cIndiMod").val(),IdContrato);                                            
+                                            //aqui busco el nombre del usuario y lo pongo en la tabla y asi la actualizo
+                                            panel.getUsuario($("#cIndiMod").val(),respNombre);
+                                        }else{
+                                            //aqui si selecciono la opcion "Yo"
+                                            panel.cambiarResponsableIndicador(indicadorChange,IdUsuario,IdContrato);    
+                                            //aqui busco el nombre del usuario y lo pongo en la tabla y asi la actualizo
+                                            panel.getUsuario(IdUsuario,respNombre);                                             
+                                        }
+                                                                               
+                                                                              
+					$( this ).dialog( "close" );
+				},
+				Cancelar: function() {
+					$( this ).dialog( "close" );
+				}
+			}
+		});//dialog
                 
             });            
             
@@ -115,6 +190,10 @@ response.setDateHeader("Expires", 0);
                 interaccion.obtenerCuestionario(valor1,valor2,respuesta);                
             }
             
+            function respNombre(data){
+                $("#resp"+indicadorChange).html(data[0]);
+            }
+            
             function respuesta(data){                 
                 
                 num_item= data.length;
@@ -131,53 +210,342 @@ response.setDateHeader("Expires", 0);
             }
             
             
-            function saveAndNext(){                
-                
-                 if(actual_var < (total_vari -1)){
-                     
-                      for(i=0;i<num_item;i++){
-                        if(jQuery("#checkbox"+(i+1)).attr('checked') == true)
-                          { //alert("Seleccionada");
-                             
-                          
-                         }else { //alert("No Seleccionada");  
-                             
-                            }
-                     }
-            
-                     interaccion.aunm(<%=indi%>,<%=contrato%>, respuesta2);//aumenta en uno la variable var de la tabla avance                                                                                  
-                 }else{
-                     alert("NO hay mas");
-                 }                  
-                                  
-            } 
+            function link_indi(){
+                $("#tabs-2").html("<p>Nombre</p>");
+            }
             
-            function getName2(data2){
-                $("#link_variable").html(data2);
-                //alert("Entre name "+ actual_var);
+            function actionAgregar(){
+                alert("Como vas--");
             }
             
-            function respuesta2(data){                 
-                 actual_var = data;                 
-                 interaccion.getNameVariable(actual_var,<%=indi%>, getName2);//obtengo el nombre de la nueva variable
-                 obtener(<%=indi%>,data);
+       function getDelegados(){
+         panel.getRowIndicador(IdContrato, repIndicador);
+         //panel.getRowDelegado(IdEmpresa, repDelegado);         
+       }
+       
+       function repIndicador(data){ 
+           var i=0;
+           
+         for(i;i<data.length;i++){
+             addRowIndicador(data[i][0],data[i][1],'100',data[i][2]);             
+         }
+       }     
+       
+       function repDelegado(data){  
+           var i=0;
+          
+         for(i;i<data.length;i++){
+            addRowDelegado(data[i][0],data[i][1],data[i][2],data[i][3]);             
+         }
+       }     
+
+       function goout(){
+            location.href="salir";
+       }
+        
+       function cambiarResponsable(indicador){
+           indicadorChange = indicador;            
+        
+            $( "#dialog-confirm" ).dialog( "open" );
+            panel.getAllDelegado(IdEmpresa,respIndiMod);
+       }
+        
+       function respIndiMod(data){
+           var CadenaResp="";
+           var i;
+           for(i=0;i<data.length;i++){
+               CadenaResp += "<option value="+ data[i][0] +">"+ data[i][1] +"</option>";
+           }
+           
+        $("#cIndiMod").html(CadenaResp);
+       }
+       
+       function addRowIndicador(indicador, responsable,avance,idIndicador){
+           var cadena="";
+           cadena="<tr><td>"+indicador+"</td><td><label for='responsable' id='resp"+idIndicador+"' >"+responsable+"</label></td><td>"+avance+"</td><td><p><a href='instrument.jsp?indi="+idIndicador+"'><strong>Ir instrumento</strong></a></p></td><td><p><a href='#' onclick='cambiarResponsable("+idIndicador+");'><strong>Delegar</strong></a></p></td></tr>";
+           $("#table_indicador").append(cadena); 
+       }       
+       
+       function updateContra(){       
+           var contraAnterior = $("#contraOld").val();           
+           var contraNueva = $("#contraNew").val();
+           var contraNuevaConfirmacion = $("#contraNew2").val();
+           
+           if(contraAnterior=="") {
+              
+               var palabra= "<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Llene el campo de contraseña actual, gracias!!</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);               
+               $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje
+           }else if(contraNueva=="" ){
+               var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Llene el campo de la nueva contraseña, gracias!!</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);
+               $( "#box_message" ).show("blind",callback);
+           }else if(contraNuevaConfirmacion==""){
+               var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Llene el campo de confirmacion de la nueva contraseña, gracias!!</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);
+               $( "#box_message" ).show("blind",callback);
+           }
+           else{               
+               panel.updatePass(<%=id_usuario%>,contraAnterior,contraNueva,contraNuevaConfirmacion,respUpdate);
+           }           
+       }
+       
+       function callback() {//function para esconder el div de mensaje con efecto
+			setTimeout(function() {
+				$( "#box_message:visible" ).removeAttr( "style" ).slideUp();//fadeOut();
+			}, 1000 );
+		};
+       
+       function respUpdate(data){
+           var respu = data;
+                    
+            if(respu==0){               
+               var palabra="<section role='principal' id='message_box'><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Contraseña incorrecta</strong><p class='hola'>Digite correctamente la contraseña anterior.</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);
+               $( "#box_message" ).show("blind",callback);
+           }else if(respu==1){               
+               var palabra="<section role='principal' id='message_box'><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Contraseña incorrecta</strong><p class='hola'>La nueva contraseña no coincide correctamente.</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);
+               $( "#box_message" ).show("blind",callback);
+           }else if(respu==2){
+               var palabra="<section role='principal' id='message_box'><div class='notification information'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Modificacion</strong><p class='hola'>Se ha cambiado la nueva contraseña correctamente.</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);
+               $( "#box_message" ).show("blind",callback);
+                $("#contraOld").val("");           
+                $("#contraNew").val("");
+                $("#contraNew2").val("");
+           } 
+       }
+       
+       function doDelegar(){
+           alert("Hola");
+       }
+       
+       function addRowDelegado(nombre, cargo,estado,idUsuarioDelegado){
+           var cadena="";
+           cadena="<tr><td>"+nombre+"</td><td>"+cargo+"</td><td>"+estado+"</td><td><p><a href='#' onclick='editarDelegado("+ idUsuarioDelegado +");' ><strong>Editar</strong></a></p></td></tr>";
+           $("#table_delegado").append(cadena); 
+       }
+       
+       function editarDelegado(idUsuarioDel){           
+            $("#panel_tab4").html(" <h4>Modificar Delegado</h4><br> <form id='formModificarDelegado' method='post'><div class='div_header_reg'><div class='row_reg'><div class='left_reg'><label for='fandln' >Nombre:</label></div><div ><input type='text' name='txtnameDelegado' id='txtnameDelegado' /><input type='hidden' name='txtidDelegado' id='txtidDelegado' value='"+ idUsuarioDel +"' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Telefono:</div><div ><input type='text' name='txttelDelegado' id='txttelDelegado' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Cargo:</div><div ><input type='text' name='txtcargoDelegado' id='txtcargoDelegado' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Direccion:</div><div ><input type='text' name='txtdirDelegado' id='txtdirDelegado' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Direccion de Correo:</div><div ><input type='text' name='txtcorreoDelegado' id='txtcorreoDelegado' /></div><div class='clear_reg'></div></div></div><p><strong>*Todos los campos son requeridos </strong><br /><p><input type='submit' value='Modificar &raquo;' id='btnmodDelegado' name='btnmodDelegado' /></p></form>");           
+            panel.getUsuario($("#txtidDelegado").val(), respuestaFieldDelegado);
+           //cargarComboIndicador();
+          $( "#btnmodDelegado" ).button();           
+           
+           ValidateFormDelegado();
+       }
+       
+       function respuestaFieldDelegado(data){
+           $("#txtnameDelegado").val(data[0]);
+           $("#txttelDelegado").val(data[2]);
+           $("#txtcargoDelegado").val(data[1]);
+           $("#txtdirDelegado").val(data[3]);
+           $("#txtcorreoDelegado").val(data[4]);
+       }
+       
+       function ValidateFormDelegado(){
+        $('#formModificarDelegado').validate({
+           rules: {           
+           'txtnameDelegado': 'required',
+           'txttelDelegado': { required: true, number: true },
+           'txtcargoDelegado': 'required',
+           'txtdirDelegado': 'required',           
+           'txtcorreoDelegado': { required: true, email: true }
+           },
+       messages: {           
+           'txtnameDelegado': 'Debe ingresar el nombre',
+           'txttelDelegado': { required: 'Debe ingresar el número telefonico', number: 'Debe ingresar un número' },
+           'txtcargoDelegado': 'Debe ingresar el cargo',
+           'txtdirDelagado': 'Debe ingresar la direccion',                      
+           'txtcorreoDelegado': { required: 'Debe ingresar un correo electrónico', email: 'Debe ingresar el correo electrónico con el formato correcto. Por ejemplo: nombre@dominio.com' }
+       },
+       debug: true,
+       /*errorElement: 'div',*/
+       //errorContainer: $('#errores'),
+       submitHandler: function(form){                      
+           panel.updateUsuario($("#txtidDelegado").val(),$("#txtnameDelegado").val(),$("#txtcargoDelegado").val(),$("#txttelDelegado").val(),$("#txtdirDelegado").val(),$("#txtcorreoDelegado").val());
+           //$("#resp"+$("#cIndi").val()).html($("#txtname").val());//cambio el nombre del responsable en la tabla
+           
+           $("#all").click();
+           var palabra="<section role='principal' id='message_box'><div class='notification success'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Sastifactorio</strong><p class='hola'>Se ha agregado el nuevo delegado.</p></div><!-- /Notification --></section>";  
+           $("#box_message").html(palabra);
+           $( "#box_message" ).show("blind",callback);           
+           
+       }
+    });///fin de formDelegado   
+       }
+       
+       function cargarValidateForm(){
+        $('#formDelegado').validate({
+           rules: {           
+           'txtname': 'required',
+           'txttel': { required: true, number: true },
+           'txtcargo': 'required',
+           'txtdir': 'required',           
+           'txtcorreo': { required: true, email: true },
+           'txtpass': 'required',
+           'txtpass2': {required: true,equalTo: "#txtpass"}
+           },
+       messages: {           
+           'txtname': 'Debe ingresar el nombre',
+           'txttel': { required: 'Debe ingresar el número telefonico', number: 'Debe ingresar un número' },
+           'txtcargo': 'Debe ingresar el cargo',
+           'txtdir': 'Debe ingresar la direccion',                      
+           'txtcorreo': { required: 'Debe ingresar un correo electrónico', email: 'Debe ingresar el correo electrónico con el formato correcto. Por ejemplo: nombre@dominio.com' },
+           'txtpass': 'Debe ingresar un password',
+           'txtpass2': {required: 'Debe ingresar el password nuevamente',equalTo: 'Debe de ser el mismo password'}           
+       },
+       debug: true,
+       /*errorElement: 'div',*/
+       //errorContainer: $('#errores'),
+       submitHandler: function(form){                      
+           panel.addDelegado(IdEmpresa,$("#cIndi").val(),IdContrato,$("#txtname").val(),$("#txttel").val(),$("#txtcargo").val(),$("#txtdir").val(),$("#txtcorreo").val(),$("#txtpass_delegado").val());
+           $("#resp"+$("#cIndi").val()).html($("#txtname").val());//cambio el nombre del responsable en la tabla
+           
+           $("#all").click();
+           var palabra="<section role='principal' id='message_box'><div class='notification success'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Sastifactorio</strong><p class='hola'>Se ha agregado el nuevo delegado.</p></div><!-- /Notification --></section>";  
+           $("#box_message").html(palabra);
+           $( "#box_message" ).show("blind",callback);
+           
+       }
+    });///fin de formDelegado   
+       }//fin del metodo cargarValidateForm
+       
+       function panel_newDel(){           
+           $("#panel_tab4").html(" <h4>Agregar Delegado</h4><br> <form id='formDelegado' method='post'><div class='div_header_reg'><div class='row_reg'><div class='left_reg'><label for='fandln' >Indicador:</label></div><div><select name='cIndi' id='cIndi'></select></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'><label for='fandln' >Nombre:</label></div><div ><input type='text' name='txtname' id='txtname' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Telefono:</div><div ><input type='text' name='txttel' id='txttel' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Cargo:</div><div ><input type='text' name='txtcargo' id='txtcargo' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Direccion:</div><div ><input type='text' name='txtdir' id='txtdir' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Direccion de Correo:</div><div ><input type='text' name='txtcorreo' id='txtcorreo' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Digite el password:</div><div ><input type='password' name='txtpass' id='txtpass' /></div><div class='clear_reg'></div></div><div class='row_reg'><div class='left_reg'>Re-enter password:</div><div ><input type='password' name='txtpass2' id='txtpass2' /></div><div class='clear_reg'></div></div></div><p><strong>*Todos los campos son requeridos </strong><br /><p><input type='submit' value='Agregar &raquo;' id='btnagregar' name='btnagregar' /></p></form>");           
+           cargarComboIndicador();
+           $( "#btnagregar" ).button();           
+           
+           cargarValidateForm();
+       }
+       
+       function panel_showDel(){
+           $("#panel_tab4").html("<h4>Listado de Delegados</h4><br> <table id='table_delegado'  ><tr><td> Delegado </td><td> Cargo </td><td> Estado </td><td></td></tr></table>");
+           panel.getRowDelegado(IdEmpresa, repDelegado);         
+       }     
+       
+       function modificar_empresa(){            
+            
+            if($("#txtname_empresa").val()=="" || $("#txtdes_empresa").val()=="" || $("#txttel_empresa").val()=="" || $("#txtdir_empresa").val()=="" ){
+               var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio, Informacion de la empresa</strong><p class='hola'>Ningun campo puede estar vacio.</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);               
+               $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje  
+            }else{           
+                panel.updateEmpresa(IdEmpresa,$("#txtname_empresa").val(),$("#txtdes_empresa").val(),$("#txttel_empresa").val(),$("#txtdir_empresa").val());
+                var palabra="<section role='principal' id='message_box'><div class='notification information'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Satisfactorio</strong><p class='hola'>Se ha actualizado los datos de la empresa!!.</p></div><!-- /Notification --></section>";  
+                $("#box_message").html(palabra);               
+                $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje                  
             }
+       }
+       
+       function obtenerDatosEmpresa(){
+           panel.getEmpresa(IdEmpresa, respEmpresa);           
+       }
+       
+       function respEmpresa(data){
+           $("#txtname_empresa").val(data[0]);
+           $("#txtdes_empresa").val(data[1]);
+           $("#txttel_empresa").val(data[2]);
+           $("#txtdir_empresa").val(data[3]);
+       }
+       
+       function obtenerDatosUsuario(){
+           panel.getUsuario(IdUsuario, respUsuario);           
+       }
+       
+       function respUsuario(data){
+           $("#txtname_usuario").val(data[0]);
+           $("#txtcargo_usuario").val(data[1]);
+           $("#txttel_usuario").val(data[2]);
+           $("#txtdir_usuario").val(data[3]);
+           $("#txtcorreo_usuario").val(data[4]);
+       }
+       
+       function modificar_usuario(){                                    
             
-            function link_indi(){
-                
+            if($("#txtname_usuario").val()=="" || $("#txtcargo_usuario").val()=="" || $("#txttel_usuario").val()=="" || $("#txtdir_usuario").val()=="" || $("#txtcorreo_usuario").val()=="" ){
+               var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio, Informacion de usuario</strong><p class='hola'>Ningun campo puede estar vacio.</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);               
+               $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje  
+            }else{           
+                panel.updateUsuario(IdUsuario,$("#txtname_usuario").val(),$("#txtcargo_usuario").val(),$("#txttel_usuario").val(),$("#txtdir_usuario").val(),$("#txtcorreo_usuario").val());
+                var palabra="<section role='principal' id='message_box'><div class='notification information'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Satisfactorio</strong><p class='hola'>Se ha actualizado los datos personales!!.</p></div><!-- /Notification --></section>";  
+                $("#box_message").html(palabra);               
+                $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje                  
             }
+       }
+       
+       function cargarComboIndicador(){
+           panel.getIndicadores(respIndi);
+       }
+       
+       function respIndi(data){
+           var CadenaResp="";
+           var i;
+           for(i=0;i<data.length;i++){
+               CadenaResp += "<option value="+ data[i][0] +">"+ data[i][1] +"</option>";
+           }
+           
+        $("#cIndi").html(CadenaResp);
+       }
+       
+       function goGrafico(){
+           location.href="resultado.jsp";           
+       }
+       
+       ////toolsbar
+       $(function() {
+		$( "#new" ).button({
+			text: false,
+			icons: {
+				primary: "ui-icon ui-icon-document"
+			}
+		});
+		$( "#all" ).button({
+			text: false,
+			icons: {
+				primary: "ui-icon ui-icon-search"
+			}
+		});						
+                $( "#grafico" ).button({
+			text: false,
+			icons: {
+				primary: "ui-icon ui-icon-print"
+			}
+		});
+				
+	});
+        
+                
+               function test(){
+                   $.get("InsertarVideoChat",{idc:<%=idContrato%>,iduser:<%=id_usuario%>},function (data){
+                            $("#videoChatUser").html(data);
+                        });                         
+                  $('#videoChatUser').toggle();
+                   if ($('#videoChatUser').css('display') == 'none') {                      
+                          $('#btnVCUser').val('Iniciar Video Chat');     
+                     }
+                     else {
+                          $('#btnVC').val('Cerrar Video Chat');
+                     }
+               }
+	
         </script>
+                
     </head>    
     <body>
      <div class="main">
   <div class="header">
     <div class="header_resize">      
       <div class="menu">
-        
-        </ul>
+                
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="logo"><img src="images/logo.gif" width="250" height="70" border="0" alt="logo" /></div>      
+      <div class="inGo">
+          <a style=" font-size: 14px ;" href="#" onclick="goout();" ><strong>Salir</strong></a>          
+      </div>
       <div class="clr"></div>
     </div>
   </div> 
@@ -185,28 +553,232 @@ response.setDateHeader("Expires", 0);
   <div class="body">     
     <div class="body_resize">
         
-        <h2>Welcome <%=name%>&nbsp&nbsp<a id="link_indicador" href="#" onclick="link_indi();" ><%=nombre_indicador%></a>  > <a id="link_variable" href="#" ><%=nombre_variable%></a></h2>
+        <h2>Bienvenido <%=name%></h2>
+          <br>
+        <div id="box_message" > 
+                           
+        </div> <%-- finaliza div que muestra los mensajes --%>
         
-        <div id="cuestionario" align="center">            
-            <%
-              /*IndicadorDaoImpl indDao = new IndicadorDaoImpl();
-              List<Indicador> listIndicador = new ArrayList<Indicador>();
-              listIndicador = indDao.findAll();
-              
-              Indicador indicador = new Indicador();
-              for(int i=0;i<listIndicador.size();i++){
-                  indicador = listIndicador.get(i);
-                 out.println("<button  name='"+ indicador.getIdIndicador() +"' id='"+ indicador.getIdIndicador() +"' type='button' onclick='obtener("+ indicador.getIdIndicador() +");' >"+ indicador.getNombre() +"</button>");
-              }
-               */
-            %>
-                              
-        </div> 
-        <div id="box" >
-            
-        </div>
-            <input type='button' value='save' id="buttonnnext" onclick="saveAndNext();" />
+        <div id="dialog-confirm" title="Modificar Reponsable">
+            <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Selecciona al nuevo responsable, o no deleges a ningun usuario haslo tu mismo!</p>
+            <form>            
+            <input type="radio" name="combo" id="combo1" value="0" checked="true" />
+            <select name="cIndiMod" id="cIndiMod">
+                <option value="0000">--Seleccione--</option>
+            </select><br></br>
+            <label for="O" style="padding-left: 50%; " >O</label> <br></br>
+            <input type="radio" name="combo" id="combo2" value="1"/>Yo
+            </form>
+        </div><%-- finaliza div que muestra el dialogo de modificar responsable --%>        
+                   
            <%-- <div class="right2"> </div> end div right2 --%> 
+       <div id="tabs">
+           <ul>
+               <li><a href="#tabs-1">Espacio de trabajo</a></li>
+               <li><a href="#tabs-2" >Datos Personales</a></li>
+               <li><a href="#tabs-3">Datos de la Empresa</a></li>
+               <li><a href="#tabs-4">Delegado</a></li>
+               <li><a href="#tabs-5">Video Chat</a></li>
+           </ul>
+           <div id="tabs-1">
+               
+               <span id="toolbar1" style="padding: 10px 4px; font-size: 14px;" class="ui-widget-header ui-corner-all">
+                   <button id="grafico"  onclick="goGrafico();">Ver Grafico</button>                   
+               </span>
+               
+               <h4>Indicadores</h4>
+               <table id="table_indicador" style=" font-size: 14px;" >
+                   <tr>
+                       <td> Indicador </td>
+                       <td> Responsable </td>
+                       <td> Avance </td>
+                       <td></td>                                  
+                       <td></td>
+                   </tr>                              
+               </table>
+               
+           </div><%-- End div tabs 1 --%>
+           <div id="tabs-2">
+               <table>
+                   <tr>
+                       <td>
+                           <div id="informacion_usuario" style=" font-size: 14px;">
+                               <div class="ri1">
+                                   <div class="clr"></div>
+                                   <div class="right_top">
+                                       <div class="right_bottom">
+                                           <h4>Informacion de usuario</h4>
+                                           <table style="padding:10px;">
+                                               <tbody>
+                                                   <tr>
+                                                       <td>Nombre:</td>
+                                                       <td><input type="text" id="txtname_usuario" size="28"  /> </td>
+                                                   </tr>
+                                                   <tr>
+                                                       <td>Cargo:</td>
+                                                       <td><input type="text" id="txtcargo_usuario" size="28" /></td>
+                                                   </tr>
+                                                   <tr>
+                                                       <td>Telefono:</td>
+                                                       <td><input type="text" id="txttel_usuario" size="28" /></td>
+                                                   </tr>
+                                                   <tr>
+                                                       <td>Direccion:</td>
+                                                       <td><textarea rows="2" cols="25" id="txtdir_usuario" ></textarea></td>
+                                                   </tr>
+                                                   <tr>
+                                                       <td>Correo:</td>
+                                                       <td><input type="text" id="txtcorreo_usuario" size="28" /></td>
+                                                   </tr>                                                   
+                                               </tbody>
+                                           </table>
+                                           <p><input type="button" value="Actualizar" id="btnupdatInfo" onclick="modificar_usuario();" ></input></p>  
+                                           <div class="clr"></div>
+                                       </div><%-- termina div de right_bottom --%>
+                                   </div><%-- termina div de right_top --%>
+                                           <div class="clr"></div>
+                               </div>                              
+                           </div><%-- termina div de informacion_usuario --%>               
+                       </td>
+                       <td>
+                           <div id="cambiar_contra" style=" padding-left: 10px; padding-top: 0px; font-size: 14px;">
+                               <div class="ri1">
+                                   <div class="clr"></div>
+                                   <div class="right_top">
+                                       <div class="right_bottom">
+                                           <h4>Cambiar contraseña</h4>                                            
+                                           <table style="padding:10px;" >
+                                               <tbody>
+                                                   <tr>
+                                                       <td>Actual:</td>
+                                                       <td><input id="contraOld" type="password" value="" /> </td>
+                                                   </tr>
+                                                   <tr>
+                                                       <td>Nueva:</td>
+                                                       <td><input id="contraNew" type="password" value="" /></td>
+                                                   </tr>
+                                                   <tr>
+                                                       <td>Confirmar nueva:</td>
+                                                       <td><input id="contraNew2" type="password" value="" /></td>
+                                                   </tr>                                                                                                      
+                                               </tbody>
+                                           </table>
+                                           <p><input type="button" value="Actualizar" id="btnupdatContra" onclick="updateContra();" ></input></p>  
+                                           <div class="clr"></div>
+                                       </div><%-- termina div de rigth_bottom --%> 
+                                   </div><%-- termina div de right_top --%> 
+                                   <div class="clr"></div>
+                               </div><%-- termina div de ri1 --%> 
+                           </div><%-- termina div de cambiar_contra --%> 
+                       </td>                       
+                   </tr>                   
+               </table>
+                       
+           </div><%-- End div tabs 2 --%>
+           <div id="tabs-3">
+               <div id="informacion_empresa" style=" font-size: 14px;">
+                   <div class="ri1">
+                       <div class="clr"></div>
+                       <div class="right_top">
+                           <div class="right_bottom">
+                               <h4>Informacion de la empresa</h4>
+                               <table style="padding:10px;">
+                                   <tbody>
+                                       <tr>
+                                           <td>Nombre:</td>
+                                           <td><input id="txtname_empresa" size="27" type="text" /> </td>
+                                       </tr>
+                                       <tr>
+                                           <td>Descripcion:</td>
+                                           <td><input type="text" id="txtdes_empresa" size="27" value=<%=descripcion%> /></td>
+                                       </tr>
+                                       <tr>
+                                           <td>Telefono:</td>
+                                           <td><input type="text" id="txttel_empresa" size="27" value=<%=tel_empresa%> /></td>
+                                       </tr>
+                                       <tr>
+                                           <td>Direccion:</td>
+                                           <td><textarea rows="2" cols="20" id="txtdir_empresa" ><%=dir_empresa%></textarea></td>
+                                       </tr>                                      
+                                   </tbody>
+                               </table>
+                                       <p><input type="button" value="Actualizar" id="btnupdatEmpresa" onclick="modificar_empresa();" ></input></p>  
+                                       <div class="clr"></div>
+                           </div><%-- termina div de right_bottom --%>
+                       </div><%-- termina div de right_top --%>
+                       <div class="clr"></div>
+                   </div>                              
+               </div><%-- termina div de informacion_empresa --%>  
+           </div><%-- End div tabs 3 --%>
+           <div id="tabs-4">
+               <span id="toolbar" style="padding: 10px 4px; font-size: 14px;" class="ui-widget-header ui-corner-all">
+                   <button id="new"  onclick="panel_newDel();">Nuevo</button>
+                   <button id="all" onclick="panel_showDel();">Ver Todos</button>                   
+               </span>
+               
+               <div id="panel_tab4" style=" font-size: 14px;" >
+                   <h4>Agregar Delegado</h4>
+                   <br>
+                   <form id="formDelegado" method="post">              
+                       <div class="div_header_reg">                           
+                           <div class="row_reg">
+                               <div class="left_reg"><label for="fandln" >Indicador:</label></div>
+                               <div><select name="cIndi" id="cIndi">
+                                       <option value="0000">--Seleccione--</option>
+                                     </select>
+                               </div>
+                               <div class="clear_reg"></div>                               
+                           </div>
+                           <div class="row_reg">
+                               <div class="left_reg"><label for="fandln" >Nombre:</label></div>
+                               <div ><input type="text" name="txtname" id="txtname_delegado" /></div>
+                               <div class="clear_reg"></div>                               
+                           </div>
+                           <div class="row_reg">
+                               <div class="left_reg">Telefono:</div>
+                               <div ><input type="text" name="txttel" id="txttel_delegado" /></div>
+                               <div class="clear_reg"></div>                               
+                           </div>
+                           <div class="row_reg">
+                               <div class="left_reg">Cargo:</div>
+                               <div ><input type="text" name="txtcargo" id="txtcargo_delegado" /></div>
+                               <div class="clear_reg"></div>
+                           </div>                                               
+                           <div class="row_reg">
+                               <div class="left_reg">Direccion:</div>
+                               <div ><input type="text" name="txtdir" id="txtdir_delegado" /></div>
+                               <div class="clear_reg"></div>
+                           </div>                                               
+                           <div class="row_reg">
+                               <div class="left_reg">Direccion de Correo:</div>
+                               <div ><input type="text" name="txtcorreo" id="txtcorreo_delegado" /></div>
+                               <div class="clear_reg"></div>
+                           </div>                    
+                           <div class="row_reg">
+                               <div class="left_reg">Digite el password:</div>
+                               <div ><input type="password" name="txtpass" id="txtpass_delegado" /></div>
+                               <div class="clear_reg"></div>
+                           </div>
+                           <div class="row_reg">
+                               <div class="left_reg">Re-enter password:</div>
+                               <div ><input type="password" name="txtpass2" id="txtpass2_delegado" /></div>
+                               <div class="clear_reg"></div>
+                           </div>  
+                       </div><%-- div header_reg End div personal details --%>
+                       <p><strong>*Todos los campos son requeridos </strong><br />
+                       <p><input type="submit" value="Agregar &raquo;" id="btnagregar" name="btnagregar" /></p>
+                   </form>
+               </div><%-- End div tabs 4 --%>
+           </div><%-- End div tabs 4 --%>
+           <div id="tabs-5">
+               
+               <div id="videoChatUser">
+                   
+               </div>
+               <div align="center"> <input type="button" id="btnVCUser" onclick="test();" value="Iniciar Video Chat"/> </div>  
+               
+           </div><%-- End div tabs 5 --%>
+       </div> <%-- End div tabs --%>
        
       <div class="clr"></div>
     </div>
@@ -215,4 +787,5 @@ response.setDateHeader("Expires", 0);
   <div class="clr"></div>
 </div>  
     </body>
-</html>
\ No newline at end of file
+</html>
+<% } %>
\ No newline at end of file
diff --git a/build/web/images/logo.gif b/build/web/images/logo.gif
index e420df9a74106840f3b2d32e6bfd124046400fa5..6330e52a2d1d88ab42eb49c3efa4cc2c25b789e5 100644
GIT binary patch
literal 8399
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

literal 7763
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

diff --git a/build/web/index.jsp b/build/web/index.jsp
index 397c355..266cd3d 100644
--- a/build/web/index.jsp
+++ b/build/web/index.jsp
@@ -28,6 +28,12 @@
 		auto: true, 
 		continuous: true
 	});	
+         if((navigator.userAgent.match(/iPhone/i))) {
+            if (document.cookie.indexOf("iphone_redirect=false") == -1) window.location = "resources/mobil/indexmobil.html";
+         }
+         else if( (navigator.userAgent.match(/iPad/i)) ){
+              if (document.cookie.indexOf("iphone_redirect=false") == -1) window.location = "resources/mobil/tablets/welcome.jsp";
+         }
 });
 // ]]>
 </script>
@@ -61,7 +67,7 @@ p#controls { margin:0; padding:0; position:relative; }
         </ul>
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" /></div>
+      <div class="logo"><img src="images/logo.gif" width="290" height="80" border="0" /></div>
       <div class="search">
         <form id="form1" name="form1" method="post" action="">
           <label> <span>
diff --git a/build/web/initCapacitador.jsp b/build/web/initCapacitador.jsp
index 43e7862..adec858 100644
--- a/build/web/initCapacitador.jsp
+++ b/build/web/initCapacitador.jsp
@@ -3,6 +3,8 @@
     Created on : Aug 13, 2011, 11:40:31 PM
     Author     : Dave
 --%>
+<%@page import="pojo.Acceso"%>
+<%@page import="daoImpl.AccesoDaoImpl"%>
 <%@page import="pojo.Variable"%>
 <%@page import="pojo.Indicador"%>
 <%@page import="daoImpl.IndicadorDaoImpl"%>
@@ -22,8 +24,14 @@
 <%@page import="daoImpl.ContratoDaoImpl"%>
 <%@page import="pojo.Usuario"%>
 <%@page import="daoImpl.UsuarioDaoImpl"%>
+<%@page session="true"%>
 <%@page contentType="text/html" pageEncoding="UTF-8"%>
 <!DOCTYPE html>
+<%
+response.setHeader("Cache-Control","no-cache");
+response.setHeader("Cache-Control","no-store");
+response.setDateHeader("Expires", 0);
+%>
 <html>
     <head>
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
@@ -35,15 +43,31 @@
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
 	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
         <script type="text/javascript" language="javascript" src="resources/js/advancedtable.js"></script>
-        
+        <link REL="shortcut icon" type="image/x-icon" href="images/favicon.png"/>
         <link href="resources/style.css" rel="stylesheet" type="text/css" />
-        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
         
         <script>
+            function mostrarMenu(){
+                $("#menuBtnOpciones1").toggle("slow");
+            }
+            
+            
             function hacerlo(){
                 window.location.href = "historial.jsp"; 
             }
-        $(document).ready(function() {            $("#tabs").tabs();
+        $(document).ready(function() {
+            $(".mnSalir li").hover(
+             function(){
+                $(this).css({'background':'#e8e8e8','color':'#81BEF7','cursor':'pointer'});
+            },
+            function(){
+                $(this).css({'background':'#81BEF7','color':'#0B3861'});    
+            }
+            );
+       
+            $("#btnVC").button();            
+            $("#tabs").tabs();
             $( "#datepicker" ).datepicker();
             $( "#datepicker2" ).datepicker();                       
             $("#tblContratos").advancedtable({searchField: "#search",
@@ -52,9 +76,9 @@
                                         descImage:'images/down.png',
                                         rowsPerPage: 20});
                       
-           $("#contenidoContratos tr").click(function() {
-              // alert( $(this).text());
-              window.location.href = "historial.jsp?empresa="+$(this).find('input:hidden').val();
+           $("#contenidoContratos tr").click(function() {               
+              window.location.href = "graficoHistorial.jsp?idempresa="+$(this).find('input:hidden').val();
+              
             });
             
             $("#tblEmpresaAsignada tr").click(function() { 
@@ -62,24 +86,57 @@
                 $.get("delegadoxContrato",{idc:idcontrato},function (data){
                     $("#tbodycontactoEmpresaAsignada").html(data);
                 });
-
             }); 
             
+            $("#mnuBtnSalir").click(function(){
+                location.href="salir";
+            });
+            
             $("#tblEmpresasNoAsignadas tr").click(function(){
-              $.getJSON("datosEmpresas.json", function(datos){
-                  alert(datos.empresas[1].nombre);
-              });   
+             alert("hola") ;
+            });
+            
+            $("#selectIndicador").change(function() {
+                   var nombreIndicador = $("#selectIndicador option:selected").val();
+                   $('>option', "#selectVariable").remove()
+                   $.get("BusquedaVariables?descIndicador=" +nombreIndicador, function (data) {
+                        $("#selectVariable").append(data);  
+                    });                             
+            });
+            
+            $("#selectVariable").change(function(){
+                var nombreVariable = $("#selectVariable option:selected").val();               
+                $.get("BusquedaItems?descVariable="+nombreVariable,function (data){
+                    $("#tableItem  tr").remove();
+                    $("#tableItem").prepend(data);
+                });
+            });
+            
+            $( "#btnOpciones" ).button({
+            icons: {
+               primary: "ui-icon-gear",
+                secondary: "ui-icon-triangle-1-s"
+                 },
+            text: false
             });
                    
         }); 
              
         </script>
                
-         <%         
+         <%     
            HttpSession sesion=request.getSession();
-           String val = (String) sesion.getAttribute("idUser");
+           String acc = (String) sesion.getAttribute("idAcc");            
+           //HttpSession sesion=request.getSession();
+           //String val = (String) sesion.getAttribute("idUser");
            //id Capacitador
-           int idUsuario = Integer.valueOf(val); 
+           if(acc==null){
+              response.sendRedirect("index.jsp");
+           }else{
+           
+            AccesoDaoImpl daoAcceso = new AccesoDaoImpl();
+            Acceso acceso = daoAcceso.findById(Integer.parseInt(acc));
+            int idUsuario = acceso.getUsuario().getIdUsuario(); 
            
                     
            AsignacionCapaContra acaco = new AsignacionCapaContra();        
@@ -121,7 +178,19 @@
       </div>
       <div class="clr"></div>
       <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
-      <div class="clr"></div>
+      <div class="clr" align ="right">      
+          <style>
+              .mnSalir li{
+                  padding-left: 5%;
+              }
+          </style>
+          <button id="btnOpciones" onclick="mostrarMenu()">Button with two icons and no text</button>
+          <div id="menuBtnOpciones1" style=" display: none; background: #81BEF7; width: 100px; height: 20px; color: #0B3861">
+              <ul id="opciones1" class="mnSalir" style="list-style: none;font-size: large; text-align:left;">
+                  <li id="mnuBtnSalir" style="list-style-image:url(/images/log_out.gif)"> Salir  </li>  
+              </ul>              
+          </div>
+      </div>
     </div>
   </div>
   
@@ -132,6 +201,7 @@
             <li><a href="#tab-1"><span>Espacio de Trabajo</span></a></li>
             <li><a href="#tab-2"><span>Ver Instrumento</span></a></li>
             <li><a href="#tab-3"><span>Historial</span></a></li>
+            <li><a href="#tab-4"><span>VideoChat</span></a></li>
            </ul>
 
         <div id="tab-1">
@@ -151,7 +221,7 @@
                                  </tr>
                              </thead>
                              <tbody>
-                                  <% while (it.hasNext()) {                                       
+                                  <%while (it.hasNext()) {                                       
                                     acaco =  it.next(); 
                                     contra = cdi.findById(acaco.getContrato().getIdContrato()) ;                                   
                                     contacto = udi.findById(contra.getUsuario().getIdUsuario()); 
@@ -209,7 +279,7 @@
                              </tr>
                          </thead>
                          <tbody id="tbodycontactoEmpresaAsignada" align="center">
-                             <tr><td>Juan</td><td>19/05/2011</td><td>david@gmail.com</td><td>yes</td></tr>
+                            
                          </tbody>
                       </table>                  
                     </td>
@@ -235,34 +305,26 @@
 
         <div id="tab-2">
             <div width="100%" style="margin-bottom: 2%; margin-left: 5%; margin-top: 1%;">
-                <label>Indicador</label><select> <option>Elija Indicador</option>  <% List<Indicador> indicadores = inddi.findAll(); Iterator<Indicador> itIndicador = indicadores.iterator(); while(itIndicador.hasNext()) {%> <option><%= itIndicador.next().getNombre() %></option> <%}%></select> <label>Variable</label><select><option>Elija Variable</option> <% List<Variable> variables = vardi.findAll(); Iterator<Variable> itVariable = variables.iterator(); while (itVariable.hasNext()) { %> <option> <%= itVariable.next().getNombre() %> </option> <%}%></select>  
+                <label>Indicador</label><select id="selectIndicador"> <option selected="selected">Elija Indicador</option>  <% List<Indicador> indicadores = inddi.findAll(); Iterator<Indicador> itIndicador = indicadores.iterator(); while(itIndicador.hasNext()) {%> <option><%= itIndicador.next().getNombre() %></option> <%}%></select> <label>Variable</label><select id="selectVariable"><optgroup label="elija Variable"></optgroup> </select>  
             </div> 
             <div width="100%" style="margin-left: 5%;">
-                <label>Elija Item</label> <input type="text" id="searchItem" placeholder="Digite un Item"/>
-            </div> 
-             <!-- >  
-            <div>
-                <div style="margin-top: 1%;">
-                    <div style="float: left; padding-top: 7px; padding-right: 10px;"><img src="images/step.png"/></div> <div style="font-weight:bold;" >Se implementa mecanismos de mercadeo (correos, telemarketing) para mantener informado a los clientes sobre nuevos productos, servicios post-venta, promociones del producto/servicio y la </div>
-                </div>
-                <div style="margin-top: 1%;">
-                    <div style="float: left; padding-top: 7px;"><img src="images/step.png"/></div> <div style="font-weight:bold;" >Se implementa mecanismos de mercadeo (correos, telemarketing) para mantener informado a los clientes sobre nuevos productos, servicios post-venta, promociones del producto/servicio y la </div>
-                </div>
-                <div style="margin-top: 1%; vertical-align:sub;">
-                    <div style="float: left; vertical-align:sub;"><img src="images/step.png"/></div> <div style="font-weight:bold;" >Se implementa mecanismos de mercadeo (correos, telemarketing) para mantener informado a los clientes sobre nuevos productos, servicios post-venta, promociones del producto/servicio y la </div>
-                </div>
-            <  -->
+                <label>Elija Item</label> <input type="text" id="filterItem" placeholder="Digite un Item"/>
+            </div>    
+            <script>
+                $("#filterItem").bind("keyup", function() {
+                    var text = $(this).val().toLowerCase();
+                    var items = $(".nombre_item");     
+                    //esconder todo:
+                    items.parent().hide();
+                    //mostrar solamente los que concuerden:
+                    items.filter(function () {
+                        return $(this).text().toLowerCase().indexOf(text) == 0;
+                    }).parent().show();
+                });
+            </script>
              <div>            
-                 <table cellpadding="8px">
-                     
-                         <% List<Item> items = itemdi.findAll(); 
-                           Iterator<Item> itItem = items.iterator();
-                           while (itItem.hasNext()){  %>
-                           <tr><td><img src="images/step.png"/></td>
-                           <td><%= itItem.next().getDescripcion() %></td></tr>    
-                           <%}//fin while%>
-                         
-                     
+                 <table cellpadding="8px" id="tableItem">
+                 
                  </table>
              </div>
             </div>
@@ -291,11 +353,57 @@
            contra = cdi.findById(acaco.getContrato().getIdContrato()) ;                                                     
            //Empresa de ese contrato           
                                   %>
-          <tr><input type="hidden" value="<%=contra.getUsuario().getEmpresa().getIdEmpresa()%>"/><td><%=contra.getUsuario().getEmpresa().getNombre()%></td> <td><%=cdi.cantidadContratosxUsuarioFinalizados(acaco.getContrato().getUsuario())%></td> <td></td></tr>
+          <tr><input type="hidden" value="<%=contra.getUsuario().getEmpresa().getIdEmpresa()%>"/><td style="cursor:pointer;"><%=contra.getUsuario().getEmpresa().getNombre()%></td> <td><%=cdi.cantidadContratosxUsuarioFinalizados(acaco.getContrato().getUsuario())%></td> <td></td></tr>
         <%}//fin while %>
        </tbody>
       </table>
             </div>
+       
+       <div id="tab-4">
+           <div id="vcSelEmpresa" align="center"> <%                                    
+                                    l = a.findAllByIdUsuarioCapacitador(capacitador);    
+                                    it = l.iterator();
+                                    String idcon;        
+                                    %>                                    
+                                    <select id="selEmpresas"> <option selected="selected">Elija Empresa</option> <% while (it.hasNext()) {                                       
+                                    acaco =  it.next(); 
+                                    contra = cdi.findById(acaco.getContrato().getIdContrato()) ;                                       
+                                    contacto = udi.findById(contra.getUsuario().getIdUsuario()); 
+                                    emp = edi.findByID(contacto.getEmpresa().getIdEmpresa());                                    
+                                    //estado del contrato activo, contrato de esta empresa actualmente trabajandose                                   
+                                                                       if (acaco.getContrato().getEstado() == 1){ idcon = String.valueOf(acaco.getContrato().getIdContrato());%> <option value="<%=idcon%>"><%=emp.getNombre()%></option>  <%}}%></select>                
+           </div> 
+           <div id="videoChat">
+               
+           </div>
+           
+           <div align="center"> <input type="button" id="btnVC" value="Iniciar Video Chat"/> </div>                      
+           
+             
+           <script>
+               $("#btnVC").hide();
+               $("#vcSelEmpresa").change(function() {
+                   $("#btnVC").trigger('click');
+                   $("#btnVC").show();
+                   $(this).unbind('change');
+                   $(this).hide();
+               });               
+                $("#btnVC").click(function () {  
+                  var idcon = $("#selEmpresas option:selected").val();         
+                   $.get("InsertarVideoChat",{idc:idcon,iduser:<%=idUsuario%>},function (data){
+                            $("#videoChat").html(data);
+                        });                         
+                  $('#videoChat').toggle();
+                   if ($('#videoChat').css('display') == 'none') {                      
+                          $('#btnVC').val('Iniciar Video Chat');     
+                          $("#vcSelEmpresa").show();
+                     }
+                     else {
+                          $('#btnVC').val('Cerrar Video Chat');
+                     }
+                });                
+           </script>
+       </div>
         </div>
                           
     </div>   
@@ -305,3 +413,4 @@
 
     </body>
 </html>
+<% } %>
diff --git a/build/web/instrument.jsp b/build/web/instrument.jsp
index 4c9233c..edebcba 100644
--- a/build/web/instrument.jsp
+++ b/build/web/instrument.jsp
@@ -4,6 +4,10 @@
     Author     : mamg
 --%>
 
+<%@page import="daoImpl.ContratoDaoImpl"%>
+<%@page import="pojo.Contrato"%>
+<%@page import="pojo.Acceso"%>
+<%@page import="daoImpl.AccesoDaoImpl"%>
 <%@page import="pojo.Avance"%>
 <%@page import="daoImpl.AvanceDaoImpl"%>
 <%@page import="pojo.DelegacionIndiUsu"%>
@@ -30,49 +34,84 @@ response.setDateHeader("Expires", 0);
     <head>
         <%
        HttpSession sesion=request.getSession();
-       String user = (String) sesion.getAttribute("idUser");
+       sesion.setMaxInactiveInterval(3600);
+       String acc = (String) sesion.getAttribute("idAcc");
+       String IDIndicador;
+       int tipo,indi,contrato,actual,total_var;
+       String name,nombre_variable,nombre_indicador;
+       
+       if(acc==null){
+              response.sendRedirect("index.jsp");
+           }else{
+       
+       IDIndicador = request.getParameter("indi");
+
+       if(IDIndicador.equals("")){
+           response.sendRedirect("index.jsp");
+       }else{              
+        
+       AccesoDaoImpl daoAcceso = new AccesoDaoImpl();
+       Acceso acceso = daoAcceso.findById(Integer.parseInt(acc));
        
-       int id_usuario = Integer.parseInt(user);
+       int id_usuario = acceso.getUsuario().getIdUsuario();
        UsuarioDaoImpl usuDao = new UsuarioDaoImpl();
        Usuario usuario = new Usuario();
        usuario = usuDao.findById(id_usuario);
-       
-       String name,nombre_variable,nombre_indicador;
-       int tipo,indi,contrato,actual,total_var;
-       
-       
+                    
        name = usuario.getNombre();
        tipo = usuario.getTipoUsuario();
        
-      //if(tipo==4){
+       indi = Integer.parseInt(IDIndicador);//indi el Indicador en el cual estamos
+       IndicadorDaoImpl indiDao = new IndicadorDaoImpl();
+       Indicador indicador = indiDao.findById(indi);                                
+       nombre_indicador = indicador.getNombre();
+          
+       actual=0;
+       total_var=0;
+       contrato=0;
+       nombre_variable="";
+       
+       Contrato contra = new Contrato();
+       ContratoDaoImpl daoContra = new ContratoDaoImpl();
+                      
+      if(tipo==4){
             
            //como es tipo delegado, obtengo que indicador esta trabajando y el contrato al que pertenece
            DelegacionIndiUsuDaoImpl delimpl = new DelegacionIndiUsuDaoImpl();
            DelegacionIndiUsu dele = new DelegacionIndiUsu(); 
-           dele = delimpl.findByUsuario(usuario); 
+           dele = delimpl.getDelByContCurrentlyandUsu(usuario); 
 
-           IndicadorDaoImpl indiDao = new IndicadorDaoImpl();
-           Indicador indicador = indiDao.findById(dele.getIndicador().getIdIndicador());                         
-           indi = indicador.getIdIndicador();//indi el Indicador en el cual estamos
-           nombre_indicador = indicador.getNombre();
-           contrato = dele.getContrato().getIdContrato();//id_contrato
+           //obtenemos el contrato
+           contra = dele.getContrato();
            
-           //miro donde quedo la ultima vez
-           AvanceDaoImpl avaDao = new AvanceDaoImpl();
-           Avance avance = new Avance();
-           avance = avaDao.findByIndiAndContra(indi, contrato);              
-           actual = avance.getVar();//actual representa a la Variable actual 
+       }else if(tipo==2){
+          response.sendRedirect("index.jsp");
+       }else if(tipo==1){
+          response.sendRedirect("index.jsp");
+       }else if(tipo==3){           
+           contra = daoContra.findByUsuario(usuario);           
+       }   
+       
+       contrato = contra.getIdContrato();
+       //miro donde quedo la ultima vez
+       AvanceDaoImpl avaDao = new AvanceDaoImpl();
+       Avance avance = new Avance();
+       avance = avaDao.findByIndiAndContra(indi, contrato);              
+       actual = avance.getVar();//actual representa a la Variable actual lo que obtiene va de 0 a n 
+       
+       //buscar el nombre de la variable
+       VariableDaoImpl varDao = new VariableDaoImpl();
+       List<Variable> listVariable = new ArrayList<Variable>();
+       listVariable = varDao.findByIndicador(indicador);
+       Variable variable = new Variable();
+       total_var = listVariable.size();//numero total de variable de ese indicador, comienza de 1
        
-           //buscar el nombre de la variable
-           VariableDaoImpl varDao = new VariableDaoImpl();
-           List<Variable> listVariable = new ArrayList<Variable>();
-           listVariable = varDao.findByIndicador(dele.getIndicador());
-           Variable variable = new Variable();
+       if(actual == total_var){// aqui confirmo si ya se realizo todo el cuestionario del indicador correspondiente
+           nombre_variable = "";
+       }else{
            variable = listVariable.get(actual);
            nombre_variable = variable.getNombre();
-           total_var = listVariable.size();//numero total de variable de ese indicador, comienza de 1          
-           
-       //}       
+       }       
                  
     %>
         
@@ -80,7 +119,7 @@ response.setDateHeader("Expires", 0);
         <META HTTP-EQUIV="Expires" CONTENT="-1">
         <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
         <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
-        <title>SECE</title>
+        <title>Cuestionario</title>
         
         <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
@@ -92,20 +131,30 @@ response.setDateHeader("Expires", 0);
         
         <script type="text/javascript" src="/sece/dwr/interface/interaccion.js"></script>        
         <script type="text/javascript" src="/sece/dwr/engine.js"></script>
-        <script type="text/javascript" src="/sece/dwr/util.js"></script>
-        
+        <script type="text/javascript" src="/sece/dwr/util.js"></script>        
         
         <script type="text/javascript" >
             
             var num_item=0;
-            var actual_var = <%=actual%>;
-            var total_vari = <%=total_var%>;
+            var indicador_actual = <%=indi%>;
+            var actual_var = <%=actual%>;// va de 0 a n
+            var total_vari = <%=total_var%>;// va 1 a n
             
             $(function() {
 		$( "#buttonnnext" ).button();  
+                $( "#box_message" ).hide();//escondo el contenido del div para los mensajes
+                
+                $( "#link_actual").html((actual_var+1)+"/"+total_vari);//aqui pongo donde va por ejemplo 5/12
                    
-                    if(actual_var == (total_vari -1)){
-                        alert("Es la ultima");
+                    if(actual_var == total_vari ){
+                        $( "#link_variable").html("");
+                        $( "#link_actual").html(actual_var+"/"+total_vari);
+                        $("#box").html("");
+                        $( "#buttonnnext" ).hide();
+                     
+                        var palabra="<section role='principal' id='message_box'><div class='notification information'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Completado</strong><p class='hola'>Se ha completado el cuestionario de <%=nombre_indicador%> correctamente!.</p></div><!-- /Notification --></section>";  
+                        $("#box_message").html(palabra);
+                        $( "#box_message" ).show("blind");
                     }else{
                         obtener(<%=indi%>,<%=actual%>);               
                     }
@@ -120,7 +169,7 @@ response.setDateHeader("Expires", 0);
                 
                 num_item= data.length;
                 var i;
-                var strHtml="<table><thead><tr><td>Pregunta</td><td>Si/No</td><td>Observacion</td></tr></thead><tbody>";
+                var strHtml="<table><thead><tr><td>Preguntas</td><td>Si/No</td><td>Observacion</td></tr></thead><tbody>";
            
                 for(i=0;i<data.length;i++){
                     strHtml += "<tr><td>"+ (i+1) + ". " + data[i].descripcion +"<input type='hidden' id='pregunta"+ (i+1) +"' value='"+ data[i].idItem +"'/></td><td><input type='checkbox' id='checkbox"+ (i+1) +"' name='resp' /></td><td><input type='text' id='textfield"+ (i+1)+"' /></input></td></tr>";                    
@@ -135,33 +184,66 @@ response.setDateHeader("Expires", 0);
             function saveAndNext(){                
                 
                  if(actual_var < (total_vari -1)){
-                     
+                     //num_item son el numero de pregunta por variable que hay para guardar
                       for(i=0;i<num_item;i++){
                         if(jQuery("#checkbox"+(i+1)).attr('checked') == true)
                           { //alert("Seleccionada");
-                             
-                          
+                            interaccion.saveandnext(<%=id_usuario%>,<%=contrato%>,$("#pregunta"+(i+1)).val(),1,$("#textfield"+(i+1)).val());                        
                          }else { //alert("No Seleccionada");  
-                             
+                            interaccion.saveandnext(<%=id_usuario%>,<%=contrato%>,$("#pregunta"+(i+1)).val(),0,$("#textfield"+(i+1)).val());
                             }
-                     }
-            
-                     interaccion.aunm(<%=indi%>,<%=contrato%>, respuesta2);//aumenta en uno la variable var de la tabla avance                                                                                  
-                 }else{
-                     alert("NO hay mas");
-                 }                  
+                       }//fin del ciclo for para guardar las respuesta item.
+                     
+                       $("#box").html("");
+                     
+                       var palabra="<section role='principal' id='message_box'><div class='notification success'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Sastifactorio</strong><p class='hola'>Se ha guardado las respuestas correctamente!!!.</p></div><!-- /Notification --></section>";  
+                       $("#box_message").html(palabra);
+                       $( "#box_message" ).show("blind",callback);//en el metodo callbak mando a llamar a la funcion que aumenta en 1 var en avance
+                      
+                 }else if (actual_var == (total_vari -1)){
+                     for(i=0;i<num_item;i++){
+                        if(jQuery("#checkbox"+(i+1)).attr('checked') == true)
+                          { //alert("Seleccionada");                             
+                             interaccion.saveandnext(<%=id_usuario%>,<%=contrato%>,$("#pregunta"+(i+1)).val(),1,$("#textfield"+(i+1)).val());                        
+                          }else { //alert("No Seleccionada");  
+                             interaccion.saveandnext(<%=id_usuario%>,<%=contrato%>,$("#pregunta"+(i+1)).val(),0,$("#textfield"+(i+1)).val());
+                            }
+                     }//fin del ciclo for para guardar las respuesta item.
+                     
+                     $( "#link_variable").html("");                     
+                     $("#box").html("");
+                     $( "#buttonnnext" ).hide();
+                     
+                     var palabra="<section role='principal' id='message_box'><div class='notification success'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Sastifactorio</strong><p class='hola'>Se ha completado el cuestionario de <%=nombre_indicador%> satisfactoriamente!.</p></div><!-- /Notification --></section>";  
+                     $("#box_message").html(palabra);
+                     $( "#box_message" ).show("blind");
+                     interaccion.aunm(<%=indi%>,<%=contrato%>, respuesta3);//aumenta en uno la variable var de la tabla avance                                                                                  
+                 }                 
                                   
             } 
             
-            function getName2(data2){
-                $("#link_variable").html(data2);
-                //alert("Entre name "+ actual_var);
-            }
+             function callback() {//function para esconder el div de mensaje con efecto
+			setTimeout(function() {                                 
+				$( "#box_message:visible" ).removeAttr( "style" ).slideUp();//fadeOut();
+                                interaccion.aunm(<%=indi%>,<%=contrato%>, respuesta2);//aumenta en uno la variable var de la tabla avance                                                                                  
+			}, 1000 );
+		};
             
+                       
             function respuesta2(data){                 
                  actual_var = data;                 
-                 interaccion.getNameVariable(actual_var,<%=indi%>, getName2);//obtengo el nombre de la nueva variable
-                 obtener(<%=indi%>,data);
+                 interaccion.getNameVariable(actual_var,indicador_actual, getName2);//obtengo el nombre de la nueva variable
+                 $( "#link_actual").html((actual_var+1)+"/"+total_vari);//aqui pongo donde va por ejemplo 5/12
+                 obtener(<%=indi%>,data);//muestra los item de la nueva variable
+            }
+            
+            function respuesta3(data){                 
+                 actual_var = data;                                  
+                 $( "#link_actual").html(actual_var+"/"+total_vari);//aqui pongo donde va por ejemplo 5/12                 
+            }
+            
+            function getName2(data2){
+                $("#link_variable").html(data2);                   
             }
             
             function link_indi(){                
@@ -172,7 +254,7 @@ response.setDateHeader("Expires", 0);
                                 
                 var j;
                 var strHtml2="";
-           alert(dato.length);
+                alert(dato.length);
                 //for(j=0;j<dato.length;j++){
                   //  strHtml2 += ""+(j+1) + ". " + dato[j].nombre +"<input type='hidden' id='idVariable"+ (j+1) +"' value='"+ dato[j].idVariable +"'/>";                    
                     
@@ -180,6 +262,13 @@ response.setDateHeader("Expires", 0);
                                
                 //$("#box").html(strHtml2);   
             }
+            
+            function goout(){
+               location.href="salir";
+            }
+            function goBack(){
+               location.href="controlPanel.jsp";
+            }
         </script>
     </head>    
     <body>
@@ -191,7 +280,11 @@ response.setDateHeader("Expires", 0);
         </ul>
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="logo"><img src="images/logo.gif" width="250" height="70" border="0" alt="logo" /></div>      
+      <div class="inGo">
+          <a href="#" onclick="goBack();" ><strong>Regresar</strong></a>          
+          <a href="#" onclick="goout();" ><strong>Salir</strong></a>
+      </div>
       <div class="clr"></div>
     </div>
   </div> 
@@ -199,27 +292,15 @@ response.setDateHeader("Expires", 0);
   <div class="body">     
     <div class="body_resize">
         
-        <h2>Welcome <%=name%>&nbsp&nbsp<a id="link_indicador" href="#" onclick="link_indi();" ><%=nombre_indicador%></a>  > <a id="link_variable" href="#" ><%=nombre_variable%></a></h2>
+        <h2>Bienvenido, <%=name%>&nbsp&nbsp<a id="link_indicador" href="#" onclick="link_indi();" ><%=nombre_indicador%></a>  > <a id="link_variable" href="#" ><%=nombre_variable%> </a>&nbsp<a id="link_actual" href="#" > </a></h2>
         
-        <div id="cuestionario" align="center">            
-            <%
-              /*IndicadorDaoImpl indDao = new IndicadorDaoImpl();
-              List<Indicador> listIndicador = new ArrayList<Indicador>();
-              listIndicador = indDao.findAll();
-              
-              Indicador indicador = new Indicador();
-              for(int i=0;i<listIndicador.size();i++){
-                  indicador = listIndicador.get(i);
-                 out.println("<button  name='"+ indicador.getIdIndicador() +"' id='"+ indicador.getIdIndicador() +"' type='button' onclick='obtener("+ indicador.getIdIndicador() +");' >"+ indicador.getNombre() +"</button>");
-              }
-               */
-            %>
+        <div id="box_message" align="center">            
                               
-        </div> 
+        </div><%-- finaliza div que muestra los mensajes --%> 
         <div id="box" >
             
         </div>
-            <input type='button' value='save' id="buttonnnext" onclick="saveAndNext();" />
+            <input type='button' style=" font-size: 14px;" value='Guardar' id="buttonnnext" onclick="saveAndNext();" />
            <%-- <div class="right2"> </div> end div right2 --%> 
        
       <div class="clr"></div>
@@ -229,4 +310,7 @@ response.setDateHeader("Expires", 0);
   <div class="clr"></div>
 </div>  
     </body>
-</html>
\ No newline at end of file
+</html>
+<% 
+      }//fin del else de validar parametro enviado
+           }//fin del else de la variable de sesion %>
\ No newline at end of file
diff --git a/build/web/logger.jsp b/build/web/logger.jsp
index f7eed9b..e2b0cdc 100644
--- a/build/web/logger.jsp
+++ b/build/web/logger.jsp
@@ -9,7 +9,7 @@
 <html>
     <head>
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-        <title>SECE</title>
+        <title>Iniciar Sesion</title>
         <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
         <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
@@ -33,9 +33,11 @@
                 valor2 = dwr.util.getValue("txtpass");
                 
                 if (valor1==""){
-                    alert("LLene el campo de email, porfavor!!");
+                    var palabra="<section role='principal' id='message_box'><!-- Notification --><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>LLene el campo de email, porfavor!!</p></div><!-- /Notification --></section>";                                        
+                    $("#hola").html(palabra);
                 }else if(valor2==""){                                                    
-                  alert("LLene el campo del password, porfavor!!");                  
+                  var palabra="<section role='principal' id='message_box'><!-- Notification --><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>LLene el campo del password, porfavor!!</p></div><!-- /Notification --></section>";                                        
+                    $("#hola").html(palabra);
                 }else{
                    validacion.loguearse(valor1,valor2,resultado);                    
                 }
@@ -45,7 +47,7 @@
                 var resp = data;
                
                 if(resp==0){
-                    var palabra="<section role='principal' id='message_box'><!-- Notification --><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Error email</strong><p class='hola'>Digite correctamente el email y si no <a href='register.jsp'><strong>registrese</strong></a>, porfavor!!</p></div><!-- /Notification --></section>";                    
+                    var palabra="<section role='principal' id='message_box'><!-- Notification --><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Error Correo</strong><p class='hola'>Digite correctamente el email y si no <a href='register.jsp'><strong>registrese</strong></a>, porfavor!!</p></div><!-- /Notification --></section>";                    
                 }else if(resp==1){                    
                     $("#hola").html("");
                     $( "#dialog-message" ).dialog( "open" );                    
@@ -54,7 +56,7 @@
                        var palabra="<section role='principal' id='message_box'><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Cuenta bloqueada</strong><p class='hola'>Su cuenta ha sido bloqueada, dirijase al administrador para activarla, gracias!!</p></div><!-- /Notification --></section>"; 
                        validacion.bloquear(valor1);
                     }else{                       
-                       var palabra="<section role='principal' id='message_box'><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Error password</strong><p class='hola'>Digite correctamente el password, porfavor!!</p></div><!-- /Notification --></section>";
+                       var palabra="<section role='principal' id='message_box'><div class='notification error'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Error Contraseña</strong><p class='hola'>Digite correctamente la contraseña, porfavor!!</p></div><!-- /Notification --></section>";
                        countError= countError + 1;   
                     }                    
                 }else if(resp==3){
@@ -66,6 +68,13 @@
             $(function() {
 		$( "#btnOk" ).button();
                 $( "#create-user" ).button();
+                //captura del eventto con el teclado 'enter
+                $("#pass").bind('keypress', function(e) { 
+                     if(e.keyCode==13){
+                         $("#btnOk").click();  
+                     }                    
+                });
+
                 //$( "#link_register").click(function() { return false; });
 		$( "#dialog:ui-dialog" ).dialog( "destroy" );
 	
@@ -78,9 +87,13 @@
                                         location.href = "entrar?txtemail="+ dwr.util.getValue("txtemail") +"&&txtpass="+ dwr.util.getValue("txtpass");
 				}
 			}
-		});
+		});//fin dialog-message
 	});
            
+           function go_register(){
+             location.href = "register.jsp";
+           }           
+           
         </script>
 </head>
 <body>    
@@ -91,7 +104,7 @@
         
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="logo"><img src="images/logo.gif" width="250" height="70" border="0" alt="logo" /></div>      
       <div class="clr"></div>
     </div>
   </div>
@@ -106,10 +119,10 @@
 
 	<p>
 		<span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
-		Your files have downloaded successfully into the My Downloads folder.
+		Sistema de Evaluacion de Competitividad Empresarial.
 	</p>
 	<p>
-		Currently using <b>36% of your storage space</b>.
+		Descubra los <b>beneficios de utilizar el sistema!!</b>.
 	</p>
       </div>
     <div class="body_resize">
@@ -127,17 +140,16 @@
         <div class="right_top">
           <div class="right_bottom">
             <h4>Iniciar Sesion</h4>
-            <img src="images/img_3.jpg" alt="picture" width="92" height="92" class="float" />
-            <p><strong>Fusce vehicula dignissim ligula. </strong><br />
-              <table>
+            <img src="images/lock.png" alt="picture" width="48" height="48" class="float" />
+            <p>Es gratis, facil y sencillo. Asi como lo lees podras evaluar la competitividad de tu empresa y posteriormente tomar desiciones con fundamento.</p>
+            <table style=" padding-left: 18px; padding-top: 5px;" >
                     <form id="form_s" method="post">                             
-                           <tr><td><label class="tlabel" for="correo">Email:</label></td><td><input id ="email" name="txtemail" type="text" value="Email" onblur="clearText(this);" onfocus="clearText(this);" /></td></tr>
-                           <tr><td><label class="tlabel" for="correo">Password:</label></td><td><input id ="pass" name="txtpass" type="password" value="password" onblur="clearText(this);" onfocus="clearText(this);" /></td></tr>
-                           <tr><td><input type="button" onclick="enviar();" id="btnOk" value="Entrar" /></td><td><input type="button" id="create-user" onclick="hello();" value="Registrarse"/></td></tr>
+                           <tr><td><label class="tlabel" for="correo">Correo:</label></td><td><input id ="email" name="txtemail" type="text" value="Email" onblur="clearText(this);" onfocus="clearText(this);" /></td></tr>
+                           <tr><td><label class="tlabel" for="contra">Contraseña:</label></td><td><input id ="pass" name="txtpass" type="password" value="password" onblur="clearText(this);" onfocus="clearText(this);" /></td></tr>
+                           <tr><td><input type="button" onclick="enviar();" id="btnOk" value="Entrar" /></td><td><input type="button" id="create-user" onclick="go_register();" value="Registrarse"/></td></tr>
                     </form>
-                  </table> <br />              
-            </p>
-            <p><a id="link_register" href="register.jsp"><strong>Registrarse</strong></a></p>
+                  </table> 
+            <p><a id="link_register" href="forgetPassword.jsp"><strong>Olvide mi contraseña???</strong></a></p>
             <div class="clr"></div>
           </div>
         </div>
diff --git a/build/web/main_admin.jsp b/build/web/main_admin.jsp
index 6192399..e36034f 100644
--- a/build/web/main_admin.jsp
+++ b/build/web/main_admin.jsp
@@ -1,325 +1,675 @@
-<%--
-    Document   : main_admin
-    Created on : Dec 10, 2010, 3:40:24 PM
-    Author     : mamg
---%>
-
-
-<%@page import="daoImpl.AsignacionCapaContraDaoImpl"%>
-<%@page import="pojo.AsignacionCapaContra"%>
-<%@page import="java.util.Iterator"%>
-<%@page import="java.util.List"%>
-<%@page import="daoImpl.IndicadorDaoImpl"%>
-<%@page import="pojo.Indicador"%>
-<%@page import="daoImpl.encriptar"%>
-<%@page import="daoImpl.EmpresaDaoImpl"%>
-<%@page import="pojo.Empresa"%>
-<%@page import="daoImpl.UsuarioDaoImpl"%>
-<%@page import="pojo.Usuario"%>
-<%@page contentType="text/html" pageEncoding="UTF-8"%>
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
-   "http://www.w3.org/TR/html4/loose.dtd">
-
-<html>
-    <head>
-        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-        <title>SECE</title>
-        <% HttpSession sesion=request.getSession();
-                       String val = (String)sesion.getAttribute("idUser");
-             
-                   /* password: kenny */
-                %>
-       
-        <link rel="stylesheet" type="text/css" href="resources/css/layout.css"/>
-       
-        <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
-        <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
-        <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
-	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
-        <script type="text/javascript" src="resources/jquery/js/jquery.corner.js"></script>
-       
-        <link href="resources/style.css" rel="stylesheet" type="text/css" />
-        <script>
-            $(function(){
-              $("#tabs").tabs();  
-            });
-        </script>
-               
-        
-        <script>
-	function mensaje() {
-		// a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!
-		$( "#dialog:ui-dialog" ).dialog( "destroy" );
-	
-		$( "#dialog-modal" ).dialog({
-			height: 140,
-			modal: true
-		});
-	};
-	</script>
-        <%--     aqui empieza el modal para actualizar   --%>
-        	<script>
-	$(function() {
-		// a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!
-		$( "#dialog:ui-dialog" ).dialog( "destroy" );
-		
-		var name = $( "#name" ),
-			email = $( "#email" ),
-			password = $( "#password" ),
-			allFields = $( [] ).add( name ).add( email ).add( password ),
-			tips = $( ".validateTips" );
-
-		function updateTips( t ) {
-			tips
-				.text( t )
-				.addClass( "ui-state-highlight" );
-			setTimeout(function() {
-				tips.removeClass( "ui-state-highlight", 1500 );
-			}, 500 );
-		}
-
-		function checkLength( o, n, min, max ) {
-			if ( o.val().length > max || o.val().length < min ) {
-				o.addClass( "ui-state-error" );
-				updateTips( "Length of " + n + " must be between " +
-					min + " and " + max + "." );
-				return false;
-			} else {
-				return true;
-			}
-		}
-
-		function checkRegexp( o, regexp, n ) {
-			if ( !( regexp.test( o.val() ) ) ) {
-				o.addClass( "ui-state-error" );
-				updateTips( n );
-				return false;
-			} else {
-				return true;
-			}
-		}
-		
-		$( "#dialog-formUpdate" ).dialog({
-			autoOpen: false,
-			height: 300,
-			width: 350,
-			modal: true,
-			buttons: {
-				"Create an account": function() {
-					var bValid = true;
-					allFields.removeClass( "ui-state-error" );
-
-					bValid = bValid && checkLength( name, "username", 3, 16 );
-					bValid = bValid && checkLength( email, "email", 6, 80 );
-					bValid = bValid && checkLength( password, "password", 5, 16 );
-
-					bValid = bValid && checkRegexp( name, /^[a-z]([0-9a-z_])+$/i, "Username may consist of a-z, 0-9, underscores, begin with a letter." );
-					// From jquery.validate.js (by joern), contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/
-					bValid = bValid && checkRegexp( email, /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, "eg. ui@jquery.com" );
-					bValid = bValid && checkRegexp( password, /^([0-9a-zA-Z])+$/, "Password field only allow : a-z 0-9" );
-
-					if ( bValid ) {
-						$( "#users tbody" ).append( "<tr>" +
-							"<td>" + name.val() + "</td>" + 
-							"<td>" + email.val() + "</td>" + 
-							"<td>" + password.val() + "</td>" +
-						"</tr>" ); 
-						$( this ).dialog( "close" );
-					}
-				},
-				Cancel: function() {
-					$( this ).dialog( "close" );
-				}
-			},
-			close: function() {
-				allFields.val( "" ).removeClass( "ui-state-error" );
-			}
-		});
-
-		$( "#updateButton" )
-			.button()
-			.click(function() {
-				$( "dialog-formUpdate" ).dialog( "open" );
-			});
-	});
-	</script>
-                <%--     aqui termina el modal para actualizar   --%>
-    </head>
-    <body>
-        <%
-           Usuario usu = new Usuario();
-           UsuarioDaoImpl udi = new UsuarioDaoImpl();
-           int iduser = Integer.valueOf(val);
-
-           usu = udi.findById(iduser);
-                                        
-%>
-        <div class="main">
-  <div class="header">
-    <div class="header_resize">      
-      <div class="menu">
-        
-      </div>
-      <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
-      <div class="clr"></div>
-    </div>
-  </div>
-            <div id="tabs" style="margin-left: 15%; margin-right: 15%" >
-                <ul>
-                    <li><a href="#tabCapacitadores"><span>CAPACITADORES</span></a></li>
-                    
-                    <li><a href="#tabPerfil"><span>PERFIL</span></a></li>
-                </ul>
-                <div id="tabCapacitadores">
-                    <div class="contentcontainer">
-            <div class="headings altheading">
-                <h2>Capacitadores Activos</h2>
-            </div>
-            <div class="contentbox">
-                <table width="100%">
-                	<thead>
-                    	<tr>
-                            <th>NOMBRE</th>
-                            <th>TELEFONO</th>
-                            <th>CORREO</th>
-                            <th>DIRECCION</th>
-                            
-                            <th>EMPRESAS ATENDIDAS</th>
-                            <th>ACCIONES</th>
-                        </tr>
-                    </thead>
-                <tbody>    
-                <%
-                 
-                
-                 List<Usuario> capacitadores = udi.findAll();  
-                 Iterator<Usuario> itc = capacitadores.iterator();
-                 Usuario ucap = new Usuario();
-                  while(itc.hasNext()){
-                    ucap = itc.next();
-                    
-                    if(ucap.getTipoUsuario() == 2 && ucap.getEstado() == 1){
-                    AsignacionCapaContraDaoImpl accdi = new AsignacionCapaContraDaoImpl();
-                    List<AsignacionCapaContra> numEmp = accdi.findAllByIdUsuarioCapacitador(ucap);
-                    int numero = 0;
-                    
-                                                            
-                   if(numEmp.isEmpty()){
-                        //sigue valiendo 0
-                    }
-                     else {
-                    numero = numEmp.size();   
-                    }
-                String s = String.valueOf(numero);
-  
-%>
-                
-            	
-                        <tr>
-                            <td><%= ucap.getNombre() %></td>
-                            <td><%= ucap.getTelefono() %></td>
-                            <td><%= ucap.getCorreo() %></td>
-                            <td><%= ucap.getDireccion() %></td>
-                            
-                            <td><%= s %></td>
-                            <td>
-                                <a href="#" onclick="mensaje();" title=""><img src="images/icon_edit.png" alt="Edit" /></a>
-                            	<a href="#" onclick="mensaje();" title=""><img src="images/icon_approve.png" alt="Approve" /></a>
-                                <a href="#" onclick="mensaje();" title=""><img src="images/icon_unapprove.png" alt="Unapprove" /></a>
-                                <a href="#" onclick="mensaje();" title=""><img src="images/icon_delete.png" alt="Delete" /></a>
-                            </td>
-                            
-                        </tr>
-                        
-                        
-                    
-                  <%}
-}                  
-%>
-              
-                </tbody>
-                </table>
-      <div id="dialog-modal" title="SECE">
-	<p>Aun en construccion</p>
-        
-       </div>
-<div class="extrabottom">
-                	<ul>
-                    	<li><img src="images/icon_edit.png" alt="Edit" /> Edit</li>
-                        <li><img src="images/icon_approve.png" alt="Approve" /> Approve</li>
-                        <li><img src="images/icon_unapprove.png" alt="Unapprove" /> Unapprove</li>
-                        <li><img src="images/icon_delete.png" alt="Delete" /> Remove</li>
-                    </ul>
-                </div>
-               
-                <div style="clear: both;"></div>
-            </div>
-            
-        </div>
-                </div>
-
-                <div id="tabPerfil">
-                    <div class="contentcontainer">                              
-                        
-                        <div class="headings alt"><h2>DATOS PERSONALES</h2></div>
-                        <div class="contentbox">
-         <%--      Formulario Modal      --%>
-     <div id="dialog-formUpdate" title="Create new user">
-	<p class="validateTips">All form fields are required.</p>
-
-	<form>
-	<fieldset>
-		<label for="name">Name</label>
-		<input type="text" name="name" id="name" class="text ui-widget-content ui-corner-all" />
-		<label for="email">Email</label>
-		<input type="text" name="email" id="email" value="" class="text ui-widget-content ui-corner-all" />
-		<label for="password">Password</label>
-		<input type="password" name="password" id="password" value="" class="text ui-widget-content ui-corner-all" />
-	</fieldset>
-	</form>
-     </div> 
-         <%--      Formulario Modal      --%>  
-                            
-                            
-                            <h3>Puede modificar sus Datos</h3>
-                            <table>
-                                <tr>
-                                    <td>Nombre:</td>
-                                    <td><% out.print(usu.getNombre()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Cargo:</td>
-                                    <td><% out.print(usu.getCargo()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Telefono:</td>
-                                    <td><% out.print(usu.getTelefono()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Correo:</td>
-                                    <td><% out.print(usu.getCorreo()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Direccion:</td>
-                                    <td><% out.print(usu.getDireccion()); %></td>
-                                </tr>
-                                <tr>
-                                    <td><button id="updateButton">Editar Información</button></td>
-                                    <td><button id="chagepass">Cambiar Contraseña</button></td>
-                                </tr>
-                                
-                            </table>
-                        </div>
-                    </div>
-                    
-                </div>
-                                
-                               
-                
-            </div>
-            
-
-    </body>
-</html>
-
+<%--
+    Document   : main_admin
+    Created on : Dec 10, 2010, 3:40:24 PM
+    Author     : mamg
+--%>
+
+
+<%@page import="daoImpl.AccesoDaoImpl"%>
+<%@page import="pojo.Acceso"%>
+<%@page import="daoImpl.EscalaDaoImpl"%>
+<%@page import="pojo.Escala"%>
+<%@page import="daoImpl.ItemDaoImpl"%>
+<%@page import="pojo.Item"%>
+<%@page import="daoImpl.VariableDaoImpl"%>
+<%@page import="pojo.Variable"%>
+<%@page import="daoImpl.SugerenciaDaoImpl"%>
+<%@page import="pojo.Sugerencia"%>
+<%@page import="daoImpl.AsignacionCapaContraDaoImpl"%>
+<%@page import="pojo.AsignacionCapaContra"%>
+<%@page import="java.util.Iterator"%>
+<%@page import="java.util.List"%>
+<%@page import="daoImpl.IndicadorDaoImpl"%>
+<%@page import="pojo.Indicador"%>
+<%@page import="daoImpl.encriptar"%>
+<%@page import="daoImpl.EmpresaDaoImpl"%>
+<%@page import="pojo.Empresa"%>
+<%@page import="daoImpl.UsuarioDaoImpl"%>
+<%@page import="pojo.Usuario"%>
+<%@page contentType="text/html" pageEncoding="UTF-8"%>
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
+   "http://www.w3.org/TR/html4/loose.dtd">
+
+<%
+response.setHeader("Cache-Control","no-cache");
+response.setHeader("Cache-Control","no-store");
+response.setDateHeader("Expires", 0);
+%>
+<html>
+    <head>        
+        <title>SECE</title>
+        <% HttpSession sesion=request.getSession();
+        
+           String val = (String)sesion.getAttribute("idAcc");
+           if(val==null){
+              response.sendRedirect("index.jsp");
+           } else{     
+                %>       
+        <link rel="stylesheet" type="text/css" href="resources/css/styles.css"/>
+        <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
+        <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
+         <link href="resources/css/message.css" rel="stylesheet" type="text/css" />
+         <script type="text/javascript" src="/sece/dwr/interface/updating.js"></script>         
+         <script type="text/javascript" src="/sece/dwr/interface/capacitadoresDWR.js"></script>
+        <script type="text/javascript" src="/sece/dwr/engine.js"></script>
+        <script type="text/javascript" src="/sece/dwr/util.js"></script>
+        <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>        
+	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
+        <script type="text/javascript" src="resources/jquery/js/jquery.corner.js"></script>
+         <script type="text/javascript" src="resources/jquery/js/jquery.validate.js"></script> 
+        <style type="text/css">
+            label, input { display:block; }
+		input.text { margin-bottom:12px; width:95%; padding: .4em; }
+		fieldset { padding:0; border:0; margin-top:25px; }
+		h1 { font-size: 1.2em; margin: .6em 0; }
+		div#users-contain { width: 350px; margin: 20px 0; }
+		div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
+		div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
+		.ui-dialog .ui-state-error { padding: .3em; }
+		.validateTips { border: 1px solid transparent; padding: 0.3em; }
+            
+        </style>
+        
+        <link href="resources/style.css" rel="stylesheet" type="text/css" />
+        <script>
+            $(function(){
+              $("#tabs").tabs();              
+               $("#btnClearCap").button();
+               $("#btnNewCapacitador").button(); 
+               $("#btnRepEPA").button();
+      $("#btnRepEHE").button();
+      $("#btnRepERE").button();
+      $("#btnRepCap").button();
+      $("#btnRepUsers").button(); 
+               
+  }); 
+    
+  
+               function callback() {//function para esconder el div de mensaje con efecto
+			setTimeout(function() {
+				$( "#box_message:visible" ).removeAttr( "style" ).slideUp();//fadeOut();
+			}, 1000 );
+		};
+            $( "#box_message" ).hide();//escondo el contenido del div para los mensajes
+       
+            
+             
+        </script>
+        <%
+           Acceso acc = new Acceso();
+           AccesoDaoImpl adi = new AccesoDaoImpl();
+           acc = adi.findById(Integer.valueOf(val));
+          
+        
+           Usuario usu = new Usuario();
+           UsuarioDaoImpl udi = new UsuarioDaoImpl();
+           usu = acc.getUsuario(); 
+           int iduser = usu.getIdUsuario();
+           usu = udi.findById(iduser);
+                   if(usu.getTipoUsuario()!= 1){
+                       response.sendRedirect("index.jsp"); 
+                   }
+            sesion.setAttribute("idAcc", val);          
+           
+                                                 
+        %>       
+        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+        <META HTTP-EQUIV="Expires" CONTENT="-1">
+        <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
+        <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
+        
+        <%--     aqui empieza el modal para actualizar   --%>
+        	<script>
+      //Codigo javaScript para Actualizar datos personales del Administrador               
+	$(function() {
+		// a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!
+		
+		  $( "#dialog:ui-dialog" ).dialog( "destroy" );
+		var updatenombre = $( "#updatenombre" ),
+                    updatecargo = $("#updatecargo"),
+                    updatetel = $("#updatetel"),
+                    updatemail = $("#updatemail"),
+                    updatedir = $("#updatedir"),
+			/*email = $( "#email" ),
+			password = $( "#password" ),*/
+        allFields = $( [] ).add(updatenombre).add(updatecargo).add(updatetel).add(updatemail).add(updatedir),
+			tips = $( ".validateTips" );
+
+		function updateTips( t ) {
+			tips
+				.text( t )
+				.addClass( "ui-state-highlight" );
+			setTimeout(function() {
+				tips.removeClass( "ui-state-highlight", 1500 );
+			}, 500 );
+		}
+
+		function checkLength( o, n, min, max ) {
+			if ( o.val().length > max || o.val().length < min ) {
+				o.addClass( "ui-state-error" );
+				updateTips( "El " + n + " debe de contener entre " +
+					min + " y " + max + " caracteres." );
+				return false;
+			} else {
+				return true;
+			}
+		}
+
+		function checkRegexp( o, regexp, n ) {
+			if ( !( regexp.test( o.val() ) ) ) {
+				o.addClass( "ui-state-error" );
+				updateTips( n );
+				return false;
+			} else {
+				return true;
+			}
+		}
+		
+                                
+		$( "#dialog-formUpdate" ).dialog({
+			
+                        autoOpen: false,
+			height:350,
+			width: 300,
+			modal: true,
+                        show: "slide",
+                        hide: "scale",
+			buttons: {
+				"Actualizar": function() {
+                                       
+					var bValid = true;
+					allFields.removeClass( "ui-state-error" );
+
+					bValid = bValid && checkLength( updatenombre, "Nombre", 5, 50 );
+					bValid = bValid && checkLength( updatecargo, "Cargo", 5, 30 );
+					bValid = bValid && checkLength( updatemail, "E-Mail", 8, 50 );
+                                        bValid = bValid && checkLength( updatetel, "Telefono", 7, 8 );
+                                        bValid = bValid && checkLength( updatedir, "Direccion", 5, 200 );
+                                        
+					//bValid = bValid && checkRegexp( name, /^[a-z]([0-9a-z_])+$/i, "Username may consist of a-z, 0-9, underscores, begin with a letter." );
+					// From jquery.validate.js (by joern), contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/
+					bValid = bValid && checkRegexp( updatemail, /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, "El E-Mail debe de ser válido" );
+					//bValid = bValid && checkRegexp( password, /^([0-9a-zA-Z])+$/, "Password field only allow : a-z 0-9" );
+                                         var id;
+                                         var nombre;
+                                         var cargo;
+                                         var mail;
+                                         var tele;
+                                         var dire;
+                                         
+					if ( bValid ) {
+                                              id = dwr.util.getValue("idAdmin");
+                                              nombre = dwr.util.getValue("updatenombre");
+                                              cargo = dwr.util.getValue("updatecargo");
+                                              tele = dwr.util.getValue("updatetel");
+                                              mail = dwr.util.getValue("updatemail");
+                                              dire = dwr.util.getValue("updatedir");
+                                              
+                                              updating.datosPersonales(id,nombre, cargo, tele, mail, dire, resultado);
+                                              
+                                                                                                                                       
+                                              $('#dialog-formUpdate').dialog( 'close' );
+					}
+				},
+                                
+                                
+                                
+				Cancel: function() {
+					$( this ).dialog( "close" );
+				}
+			},
+			close: function() {
+				//allFields.val( "" ).removeClass( "ui-state-error" );
+			}
+                        
+                        
+		});
+                
+                function resultado(data){
+                          var resp = data
+                          if(resp == 0){
+                             location.reload();
+                          }
+                                    
+                                }
+                
+
+		$( "#updateButton" )
+			.button()
+			.click(function() {
+				$( "#dialog-formUpdate" ).dialog( "open" );
+			});
+                       
+                        
+	});</script>
+                <%--     aqui termina el modal para actualizar   --%>
+                <script>
+                    $(function(){
+                        $( "#dialog:ui-dialog" ).dialog( "destroy" );
+                        
+                        var pasAct = $("#actContra"),
+                         ncontra1 = $("#nContra1"),
+                         ncontra2 = $("#nContra2"),
+                     
+                        allFields = $( [] ).add(pasAct).add(ncontra1).add(ncontra2),
+                        tips = $( ".validateTips2" );
+                        
+                        function updateTips( t ) {
+			tips
+				.text( t )
+				.addClass( "ui-state-highlight" );
+			setTimeout(function() {
+				tips.removeClass( "ui-state-highlight", 1500 );
+			}, 500 );
+		}
+
+		function checkLength( o, n, min, max ) {
+			if ( o.val().length > max || o.val().length < min ) {
+				o.addClass( "ui-state-error" );
+				updateTips( "El " + n + " debe de contener entre " +
+					min + " y " + max + " caracteres." );
+				return false;
+			} else {
+				return true;
+			}
+		}
+                             
+                function checkPassword(nc1, nc2){
+                    if(nc1.val() == nc2.val()){
+                        return true;
+                    }else{
+                        nc1.addClass("ui-state-error");
+                        nc2.addClass("ui-state-error");
+                        updateTips("Las Contraseñas no coinciden, verifique.");
+                        return false;
+                    }
+                    
+                }
+                        
+                        
+                        $("#dialogUpdatePassword").dialog({
+                             autoOpen: false,
+			     height:300,
+			     width: 350,
+			     modal: true,
+                             show: "slide",
+                             hide: "scale",
+                             buttons: {
+                                "Actualizar": function(){
+                                      var bValid = true;
+				      allFields.removeClass( "ui-state-error" ); 
+                                      
+                                       bValid = bValid && checkLength(pasAct, "Contraseña Actual", 4, 50);
+                                       bValid = bValid && checkLength(ncontra1, "Nueva Contraseña", 5, 50);
+                                       bValid = bValid && checkLength(ncontra2, "Nueva Contraseña Repetida", 5, 50);
+                                       bValid = bValid && checkPassword(ncontra1, ncontra2);
+                                       
+                                       var id;
+                                       var p;
+                                       var np1;
+                                      
+                                        if(bValid){
+                                          id = dwr.util.getValue("idAdmin");                                         
+                                          p = dwr.util.getValue("actContra");                                         
+                                          np1 = dwr.util.getValue("nContra1");                                       
+                                           
+                                          updating.password(id, p, np1, resultado);
+                                          
+                                       }                                       
+                                 },                       
+                               
+                               
+                              Cancel: function() {
+					$( this ).dialog( "close" );
+				}   
+                             },   
+                              
+                             close: function() {
+				allFields.val( "" ).removeClass( "ui-state-error" );
+			}
+                            
+                        });
+                            
+                        function resultado(data){
+                            var resp = data;
+                            
+                            if(resp == 0){
+                                pasAct.addClass("ui-state-error");
+                                updateTips("La contraseña no coincide con la de la Base de datos, verifique.");
+                            }else{
+                                $("#dialogUpdatePassword").dialog("close");
+                                allFields.removeClass( "ui-state-error" );
+                                alert("La contraseña se cambió correctamente");
+                            }
+                        }    
+                        
+                        
+                        
+                         $("#chagepass").button().click(function(){  
+                            
+                             $("#dialogUpdatePassword").dialog("open"); });
+                    });
+                    
+                </script>        
+                
+         <script>
+	 function newCapacitador(){
+            var nombre = $("#nNomCap").val();
+            var cargo = $("#nCarCap").val();
+            var telefono = $("#nTelCap").val();
+            var email = $("#nCorCap").val();
+            var dire = $("#nDirCap").val();
+            var contra = $("#nConCap").val();          
+                
+           
+               if(nombre == ""|| cargo == "" || telefono == "" || email == "" || dire == "" || contra == "" ){
+                var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Todos los datos son requeridos.</p></div><!-- /Notification --></section>";  
+               $("#box_message").html(palabra);               
+               $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
+                   
+               }
+               else if(!ValidaMail(email)){
+                   var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>E-mail incorrecto</strong><p class='hola'>El E-mail no es válido.</p></div><!-- /Notification --></section>";  
+                $("#box_message").html(palabra);               
+                $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
+            } else if(!(/\d/.test(telefono))){
+                   var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Teléfono Incorrecto</strong><p class='hola'>El numero telefonico no es valido.</p></div><!-- /Notification --></section>";  
+                $("#box_message").html(palabra);               
+                $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
+               }
+               else{                   
+                   capacitadoresDWR.newCapacitador(nombre, cargo, telefono, dire, email, contra);
+                   document.getElementById("cap").src = "tablaCapacitadores.jsp";
+                    
+                    clearCapacitador();
+               }            
+         }   
+         function clearCapacitador(){
+             document.getElementById("nNomCap").value = "";
+             document.getElementById("nCarCap").value = "";
+             document.getElementById("nTelCap").value = "";
+             document.getElementById("nCorCap").value = "";
+             document.getElementById("nDirCap").value = "";
+             document.getElementById("nConCap").value = "";
+         }
+         function ValidaMail(mail) {
+         var exr = /^[0-9a-z_\-\.]+@[0-9a-z\-\.]+\.[a-z]{2,4}$/i;
+          return exr.test(mail);
+          }
+    function reporteEPA(){
+        
+        window.open("generadorReport?tipo=0&user=<%= usu.getNombre() %>", "_blank");
+    }
+    function reporteEHE(){
+        
+        window.open("generadorReport?tipo=1&user=<%= usu.getNombre() %>", "_blank");
+    }
+    function reporteERE(){
+        
+        window.open("generadorReport?tipo=2&user=<%= usu.getNombre() %>", "_blank");
+    }
+    function reporteCap(){
+        
+        window.open("listaCap?user=<%= usu.getNombre() %>", "_blank");
+    }
+    function reporteUsers(){
+        
+        window.open("reportUsers?user=<%= usu.getNombre() %>", "_blank");
+    }
+    
+     
+
+	</script>
+    
+    <style>
+	#toolbar {
+		padding: 10px 4px;
+	}
+	</style>
+	<script>
+	$(function() {
+		$( "#home" ).button({
+			//text: false,
+			icons: {
+				primary: "ui-icon-home"
+			}
+                    }).click(function(){
+                       location.href = "main_admin.jsp";
+                    });
+		$( "#instrument" ).button({
+			//text: false,
+			icons: {
+				primary: "ui-icon-clipboard"
+			}
+		}).click(function(){
+                        location.href = "admin_instrument.jsp";
+                    });
+		$( "#logoutbutton" ).button({			
+			icons: {
+				primary: "ui-icon-gear",
+                                secondary: "ui-icon-triangle-1-s"
+			}
+		})
+		.click(function() {			
+                $("#menuBtnOpciones1").toggle("slow");            
+		});	
+                $(".mnSalir").hover(
+                function(){
+                $(this).css({'color':'#81BEF7','cursor':'pointer', 'font-size':'large'});
+                 },
+                function(){
+                $(this).css({'color':'#015480','font-size':'medium'});    
+                   }
+                 );
+            });
+            function goout(){
+            location.href="salir";
+        } 
+       
+	</script>
+    
+    
+    </head>
+    <body>
+        
+        <div class="main">
+            <%-- **************Menu*****************--%>
+        
+  
+
+       <%-- **************Menu*****************--%>   
+  <div class="header"> 
+      
+    <div class="header_resize">         
+        <div class="menu"  style=" height: 100px" >        
+          
+          
+      </div>
+      <div class="clr" ></div>
+      
+      <div style="float:right; margin-top: -12px; margin-bottom: 5px;  margin-right: -135px  ">
+
+       <span id="toolbar" class="ui-widget-header ui-corner-all">
+	<button id="home">Inicio</button>
+	<button id="instrument">Instrumento</button>
+        <button id="logoutbutton" onclick="mostrarSalir();" ><%= usu.getNombre() %></button>	
+	  <div id="menuBtnOpciones1" style=" float: right;  border-radius: 0 0 5px 5px;  margin-right: 7px; border-color: #69a8d4; border-style: solid;  border-width: 1px; display: none; background: #e7f1fa; width: 153px; height: 20px; color: #015480">
+              <ul id="opciones1" class="mnSalir" style="list-style-image:url(/images/log_out.gif); margin-top: 0px; list-style: none;font-size: medium; text-align:left;">
+                  <li id="mnuBtnSalir" onclick="goout();" > Salir  </li>  
+              </ul>              
+          </div>
+        </span>
+
+       </div>
+       <div class="clr"></div>
+       
+        
+   </div>
+      
+  </div>
+  <div id="box_message" >                           
+        </div>
+           
+            <div id="tabs" style="padding-top: 5px; margin-left: 1%; margin-right: 1%; height: 55em" >
+                <ul>
+                    <li><a href="#tabCapacitadores"><span>CAPACITADORES</span></a></li>
+                    <li><a href="#tabReportes"><span>REPORTES</span></a></li>
+                    <li><a href="#tabPerfil"><span>PERFIL</span></a></li>
+                    
+                </ul>
+                        <div id="tabCapacitadores">
+                            <div align="center">
+                                <div class="divPanel" style="width: 500px; height: 180px;">
+                                 <h2 align="center" >Nuevo Capacitador</h2>                     
+                                <form id="newCapacitador">
+                                <table align="center" >
+                                    <tr>
+                                        <td>Nombre:</td>
+                                        <td><input type="text" id="nNomCap" maxlength="50" /><label></label></td>
+                                        <td>Correo:</td>
+                                        <td><input type="text" id="nCorCap" maxlength="50" /><label></label></td>
+                                    </tr>
+                                    <tr>
+                                        <td>Cargo:</td>
+                                        <td><input type="text" id="nCarCap" maxlength="30" /></td>
+                                        <td>Direcci&oacuten:</td>
+                                        <td><input type="text" id="nDirCap" maxlength="200" /></td>
+                                    </tr>
+                                    <tr>
+                                        <td>Tel&eacutefono:</td>
+                                        <td><input type="text" id="nTelCap" maxlength="8"  /></td>
+                                        <td>Contrase&ntildea:</td>
+                                        <td><input type="password" id="nConCap" maxlength="50"/></td>
+                                    </tr>                          
+                                </table>
+                                    <div align="center" ><input id="btnNewCapacitador" onclick="newCapacitador();" type="button" value="Guardar"/>
+                                     <input id="btnClearCap" onclick="clearCapacitador();" type="button" value="Limpiar"/></div>
+                                    
+                                 </form>
+                                      
+                                  </div><br>
+                                                         
+                            
+                             <iframe src="tablaCapacitadores.jsp" style=" width: 100%; height: 420px" frameborder="0" scrolling="false"  id="cap"></iframe> 
+                        </div>
+                            </div>  
+                <div id="tabReportes" align="center" style=" padding-top: 200px " >
+                    <div class="divPanel" style="width: 1000px; padding-top: 5px; height: 80px;">
+                    <input id="btnRepEPA" onclick="reporteEPA();" type="button" value="Empresas Pendientes de Activación"/>
+                    <input id="btnRepEHE" onclick="reporteEHE();" type="button" value="Empresas Haciendo Evaluación"/>
+                    <input id="btnRepERE" onclick="reporteERE();" type="button" value="Empresas que ya Terminaron"/>
+                    <input id="btnRepCap" onclick="reporteCap();" type="button" value="Capacitadores"/>
+                    <input id="btnRepUsers" onclick="reporteUsers();" type="button" value="Usuarios de SECE"/>
+                    
+                    </div>
+                </div>
+
+                <div id="tabPerfil" style="height: 5em;" align="center" >
+                    
+         <%--      Formulario Modal Actualizar Password     --%>                   
+         <div id="dialogUpdatePassword" title="Cambie su contraseña">
+             <p class="validateTips2">Aseg&uacuterese de ingresar bien la contraseña</p>
+             <form>
+                 <fieldset>
+                     <table>
+                          <tr>
+                             <td>Contrase&ntildea Actual:</td>
+                             <td><input id="actContra" style="width:15em" value="" type="password"/></td>
+                          </tr>
+                          <tr>
+                             <td>Nueva Contrase&ntildea:</td>
+                             <td><input id="nContra1" style="width:15em" value="" type="password"/></td>
+                          </tr>
+                          <tr>
+                             <td>Repita Nueva Contrase&ntildea:</td>
+                             <td><input id="nContra2" style="width:15em" value="" type="password"/></td>
+                          </tr>
+                         
+                     </table>
+                     
+                 </fieldset>                 
+             </form>
+         </div>                     
+                            
+         <%--      Formulario Modal Actualizar Datos Personales     --%>
+     <div id="dialog-formUpdate" title="Actualice sus Datos">
+	<p class="validateTips">Todos los campos son requeridos.</p>
+
+        <form>
+	<fieldset>
+            <input id="idAdmin" type="hidden" value="<%= iduser %>"/>
+	        <table>
+                                <tr>
+                                    <td>Nombre:</td>
+                                    <td><input id="updatenombre" style="width:15em" value="<% out.print(usu.getNombre()); %>"/></td>
+                                </tr>
+                                <tr>
+                                    <td>Cargo:</td>
+                                    <td><input id="updatecargo" style="width:15em" value="<% out.print(usu.getCargo()); %>"/></td>
+                                </tr>
+                                <tr>
+                                    <td>Telefono:</td>
+                                    <td><input id="updatetel" style="width:15em" value="<% out.print(usu.getTelefono()); %>"/></td>
+                                </tr>
+                                <tr>
+                                    <td>Correo:</td>
+                                    <td><input id="updatemail" style="width:15em" value="<% out.print(usu.getCorreo()); %>"/></td>
+                                </tr>
+                                <tr>
+                                    <td>Direccion:</td>
+                                    <td><input id="updatedir" style="width:15em" value="<% out.print(usu.getDireccion()); %>"/></td>
+                                </tr>
+                                                               
+                  </table>   	
+	</fieldset>
+	</form>
+     </div> 
+         <%--      Formulario Modal      --%>  
+         <br>
+         <br>
+         <div align="center" style="width: 350px; height: 250px;" class="divPanel"><br>
+                            <h2>Puede modificar sus Datos</h2>
+                            <table>
+                                <tr>
+                                    <td>Nombre:</td>
+                                    <td><% out.print(usu.getNombre()); %></td>
+                                </tr>
+                                <tr>
+                                    <td>Cargo:</td>
+                                    <td><% out.print(usu.getCargo()); %></td>
+                                </tr>
+                                <tr>
+                                    <td>Telefono:</td>
+                                    <td><% out.print(usu.getTelefono()); %></td>
+                                </tr>
+                                <tr>
+                                    <td>Correo:</td>
+                                    <td><% out.print(usu.getCorreo()); %></td>
+                                </tr>
+                                <tr>
+                                    <td>Direccion:</td>
+                                    <td><% out.print(usu.getDireccion()); %></td>
+                                </tr>
+                           </table> <br>
+                                    <button id="updateButton">Editar Información</button>
+                                    <button id="chagepass">Cambiar Contraseña</button>
+                                
+                                
+                            
+                      </div> 
+                </div>
+        </div>                        
+                
+            </div>
+            <div class="footer">
+    
+      <p>Copyright © Sitename.com. <a href="http://dreamtemplate.com/">dreamtemplate.com</a>. All Rights Reserved</p>
+     
+    
+  </div>  
+   
+
+    </body>
+</html>
+
+<% } %>
\ No newline at end of file
diff --git a/build/web/register.jsp b/build/web/register.jsp
index d0b794a..866a583 100644
--- a/build/web/register.jsp
+++ b/build/web/register.jsp
@@ -4,6 +4,10 @@
     Author     : mamg
 --%>
 
+<%@page import="daoImpl.PaisDaoImpl"%>
+<%@page import="pojo.Pais"%>
+<%@page import="java.util.List"%>
+<%@page import="java.util.ArrayList"%>
 <%@page contentType="text/html" pageEncoding="UTF-8"%>
 <!DOCTYPE html>
 <html>
@@ -11,12 +15,89 @@
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
         
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
+        <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
 	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
-        <%-- <script type="text/javascript" src="resources/jquery/js/jquery.corner.js"></script> 
-        <script type="text/javascript" src="resources/jquery/js/easySlider1.5.js"></script> --%>
+        <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
         <link href="resources/style.css" rel="stylesheet" type="text/css" />
+        <script type="text/javascript" src="resources/jquery/js/jquery.validate.js"></script>
        <title>Sistema De Evaluacion De Competitividad</title>
-     
+       <script type="text/javascript">               
+              $(document).ready(function(){
+                $("#comboPais").change(function(){
+                      $.ajax({
+                              url:"loadZone.jsp",
+                              type: "POST",
+                              data:"idcountry="+$("#comboPais").val(),
+                              success: function(opciones){
+                              $("#comboState").html(opciones);                                    
+                              $("#cState").change();
+                                   }
+                                 })
+                             });
+                                              
+                      });    
+                      
+               $(function() {
+		            $( "#btnregister" ).button();
+                            $( "#btngoBack" ).button();
+                            
+                            $( "#dialog:ui-dialog" ).dialog( "destroy" );
+	
+		$( "#dialog-message" ).dialog({
+			autoOpen: false,
+                        modal: true,
+			buttons: {
+				Ok: function() {
+					$( this ).dialog( "close" );
+                                        location.href="saveUsuario?txtname_empresa=" + $("#txtname_empresa").val() +"&&txtdes="+ $("#txtdes").val() +"&&txttel_empresa="+ $("#txttel_empresa").val() +"&&cState="+ $("#cState").val() +"&&txtdirec_empre="+ $("#txtdirec_empre").val() +"&&txtname="+ $("#txtname").val() +"&&txtcargo="+ $("#txtcargo").val() +"&&txttel="+ $("#txttel").val() +"&&txtcorreo="+ $("#txtcorreo").val() +"&&txtdir="+ $("#txtdir").val() +"&&txtpass="+ $("#txtpass").val();         
+				}
+			}
+		});//fin dialog-message
+                
+               });  
+                  
+    
+    $(function(){
+       $('#formRegister').validate({
+           rules: {
+           'txtname_empresa': 'required',
+           'txtdes': 'required',
+           'txttel_empresa': { required: true, number: true },
+           'txtdirec_empre': 'required',
+           'txtname': 'required',
+           'txttel': { required: true, number: true },
+           'txtcargo': 'required',
+           'txtdir': 'required',           
+           'txtcorreo': { required: true, email: true },
+           'txtpass': 'required',
+           'txtpass2': {required: true,equalTo: "#txtpass"}
+           },
+       messages: {
+           'txtname_empresa': 'Ingrese el nombre de una empresa',
+           'txtdes': 'Ingrese una descripcion de la empresa',
+           'txttel_empresa': { required: 'Ingrese el número telefonico de la empresa', number: 'Debe ingresar un número' },
+           'txtdirec_empre': 'Debe ingresar la direccion de la empresa',
+           'txtname': 'Debe ingresar su nombre',
+           'txttel': { required: 'Debe ingresar su número telefonico', number: 'Debe ingresar un número' },
+           'txtcargo': 'Debe ingresar su cargo',
+           'txtdir': 'Debe ingresar su direccion',                      
+           'txtcorreo': { required: 'Debe ingresar un correo electrónico', email: 'Debe ingresar el correo electrónico con el formato correcto. Por ejemplo: nombre@dominio.com' },
+           'txtpass': 'Debe ingresar un password',
+           'txtpass2': {required: 'Debe ingresar el password nuevamente',equalTo: 'Debe de ser el mismo password'}           
+       },
+       debug: true,
+       /*errorElement: 'div',*/
+       //errorContainer: $('#errores'),
+       submitHandler: function(form){
+         $( "#dialog-message" ).dialog( "open" ); 
+       }
+    });
+});
+
+    function go_back(){
+        location.href = "logger.jsp"; 
+    } 
+        </script>    
 </head>
 <body>
 <div class="main">
@@ -26,115 +107,127 @@
        
       </div>
       <div class="clr"></div>
-      <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="logo"><img src="images/logo.gif" width="250" height="70" border="0" alt="logo" /></div>      
       <div class="clr"></div>
     </div>
   </div><%-- termina el div header --%>
   
   <div class="clr"></div>
   <div class="body">
-    <div class="body_resize">
-      <div class="right">
-        <div class="clr"></div>
-        <div class="right_top">
-          
-        </div>
-        <div class="clr"></div>
+      <div id="dialog-message" title="Bienvenido a SECE">          
+	<p>
+		<span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
+		Gracias por registrarte en SECE, ahora puedes comenzar a evaluar tu empresa desde varios indicadores y asi establecer metas para el mejoramiento.
+	</p>
+	<p>
+		Aplicar el instrumento a tu empresa de una manera <b>facil y sencilla</b>.
+	</p>
       </div>
-      <div class="right">
-        <div class="clr"></div>
-        <div class="right_top">
-          <div class="right_bottom">
-            <h4>Crea tu cuenta con nosotro!!</h4>
+    <div class="body_resize">
+      
+           <h4>Crea tu cuenta con nosotros!!</h4>
             
-            <p><strong>Datos Personales </strong><br />
-               <form action="saveUsuario" method="post">               
+            <p><strong>Hablanos acerca de ti!!! </strong><br />
+            <form id="formRegister" method="post">               
                  <div class="div_header_reg">
                      
                     <div class="row_reg">
                         <div class="left_reg"><label for="fandln" >Empresa:</label></div>
-                        <div class="right_reg"><input type="text" name="txtname_empresa" id="txtname_empresa" /></div>
+                        <div ><input type="text" name="txtname_empresa" id="txtname_empresa" /></div>
                         <div class="clear_reg"></div>
                     </div>                     
                     <div class="row_reg">
                         <div class="left_reg"><label for="fandln" >Descripcion:</label></div>
-                        <div class="right_reg"><input type="text" name="txtdes" id="txtdes" /></div>
+                        <div ><input type="text" name="txtdes" id="txtdes" /></div>
                         <div class="clear_reg"></div>
                     </div>
                     <div class="row_reg">
                         <div class="left_reg"><label for="fandln" >Telefono de la Empresa:</label></div>
-                        <div class="right_reg"><input type="text" name="txttel_empresa" id="txttel_empresa" /></div>
+                        <div ><input type="text" name="txttel_empresa" id="txttel_empresa" /></div>
+                        <div class="clear_reg"></div>
+                    </div>
+                     <div class="row_reg">
+                        <div class="left_reg"><label for="fandln" >Pais:</label></div>
+                        <div >
+                            <select name="comboPais" id="comboPais" >
+                                <option value="000">--Seleccione--</option>
+                                <%
+                                   List<Pais> list = new ArrayList<Pais>();
+                                   PaisDaoImpl daopais = new PaisDaoImpl();
+                                   list = daopais.findAll();
+
+                                   String name;
+                                   int id;
+                                   for(int i=0;i<list.size();i++){
+                                       Pais pais = (Pais) list.get(i);
+                                       id= pais.getIdPais();
+                                       name= pais.getNombre();
+                                 %>
+                                  <option value="<%=id%>"><%=name%></option>
+                                 <%
+                                  }
+                                  %>
+                            </select> 
+                        </div>
                         <div class="clear_reg"></div>
                     </div>
                     <div class="row_reg">
                         <div class="left_reg"><label for="fandln" >Ciudad:</label></div>
-                        <div class="right_reg"><input type="text" name="txtciudad" id="txtciudad" /></div>
+                        <div >
+                            <div id="comboState" >
+                            <select name="cState" id="cState">
+                               <option value="0000">--Seleccione--</option>
+                            </select>
+                            </div>
+                        </div>
                         <div class="clear_reg"></div>
-                    </div>
+                    </div>                    
                     <div class="row_reg">
                         <div class="left_reg"><label for="fandln" >Direccion empresa:</label></div>
-                        <div class="right_reg"><input type="text" name="txtdirec_empre" id="txtdirec_empre" /></div>
+                        <div ><input type="text" name="txtdirec_empre" id="txtdirec_empre" /></div>
                         <div class="clear_reg"></div>
                     </div>
-                     
+                           
                     <div class="row_reg">
                         <div class="left_reg"><label for="fandln" >Nombre:</label></div>
-                        <div class="right_reg"><input type="text" name="txtname" id="txtname" /></div>
+                        <div ><input type="text" name="txtname" id="txtname" /></div>
                         <div class="clear_reg"></div>
                     </div>
                     <div class="row_reg">
                         <div class="left_reg">Telefono:</div>
-                        <div class="right_reg"><input type="text" name="txttel" id="txttel" /></div>
+                        <div ><input type="text" name="txttel" id="txttel" /></div>
                         <div class="clear_reg"></div>
                     </div>
                     <div class="row_reg">
                         <div class="left_reg">Cargo:</div>
-                        <div class="right_reg"><input type="text" name="txtcargo" id="txtcargo" /></div>
+                        <div ><input type="text" name="txtcargo" id="txtcargo" /></div>
                         <div class="clear_reg"></div>
                     </div>                                               
                     <div class="row_reg">
                         <div class="left_reg">Direccion:</div>
-                        <div class="right_reg"><input type="text" name="txtdir" id="txtdir" /></div>
+                        <div ><input type="text" name="txtdir" id="txtdir" /></div>
                         <div class="clear_reg"></div>
                     </div>                                               
                     <div class="row_reg">
                         <div class="left_reg">Direccion de Correo:</div>
-                        <div class="right_reg"><input type="text" name="txtcorreo" id="txtcorreo" /></div>
+                        <div ><input type="text" name="txtcorreo" id="txtcorreo" /></div>
                         <div class="clear_reg"></div>
-                    </div>
-                    <div class="row_reg">
-                        <div class="left_reg">Re-enter E-mail Address:</div>
-                        <div class="right_reg"><input type="text" name="txtcorreo2" id="txtcorreo2" /></div>
-                        <div class="clear_reg"></div>
-                    </div>
+                    </div>                    
                     <div class="row_reg">
                         <div class="left_reg">Digite su password:</div>
-                        <div class="right_reg"><input type="password" name="txtpass" id="txtpass" /></div>
+                        <div ><input type="password" name="txtpass" id="txtpass" /></div>
                         <div class="clear_reg"></div>
                     </div>
                     <div class="row_reg">
                         <div class="left_reg">Re-enter password:</div>
-                        <div class="right_reg"><input type="password" name="txtpass2" id="txtpass2" /></div>
+                        <div ><input type="password" name="txtpass2" id="txtpass2" /></div>
                         <div class="clear_reg"></div>
                     </div>  
                </div><%-- div header_reg End div personal details --%>
-               
-               <p><input type="submit" value="Register &raquo;" id="btn" name="btnSave" /></p>
+               <p><strong>*Todos los campos son requeridos </strong><br />
+               <p><input type="submit" value="Continuar &raquo;" id="btnregister" name="btnregister" /><input type="button" style=" margin-left: 5px;" value="Regresar" id="btngoBack" name="btngoBack" onclick="go_back();" /></p>
             </form>
-                <br />              
-            </p>
-            <p><a href="register.jsp"><strong>Registrarse</strong></a></p>
-            <div class="clr"></div>
-          </div>
-        </div>
-        <div class="clr"></div>
-      </div>
-      <div class="right">
-        <div class="right_top">
-          
-        </div>
-        <div class="clr"></div>
-      </div>
+                <br />                                      
             
       <div class="clr"></div>
     </div>
diff --git a/build/web/resources/Nuestro_CSS.css b/build/web/resources/Nuestro_CSS.css
index f8da4e5..d8ad6e1 100644
--- a/build/web/resources/Nuestro_CSS.css
+++ b/build/web/resources/Nuestro_CSS.css
@@ -163,4 +163,66 @@
         .progress-bar.green div { background-color:#77ab13; }
         .progress-bar.yellow div { background-color:#E9E105;}
 
-        /* -------------------------------- Prgoress Bars  */
\ No newline at end of file
+        /* -------------------------------- Prgoress Bars  */
+        
+        .divPanel {            
+            border:1px solid gray;
+            background-color:white;
+            border-radius: 20px;
+            box-shadow: rgba(0,0,0,0.4) 5px 5px;
+            padding-left: 2px;
+            padding-right: 2px;
+        }
+        
+        
+        
+        /*----------------Menu---------------------*/
+        
+.preload1 {background: url(../images/blank_over.gif);}
+.preload2 {background: url(../images/blank_overa.gif);}
+
+#nav {padding:0; margin:0; list-style:none; height:36px; background:#fff; position:relative; z-index:500; font-family:arial, verdana, sans-serif;}
+#nav li.top {display:block; float:left;}
+#nav li a.top_link {display:block; float:left; height:36px; line-height:27px; color:#ccc; text-decoration:none; font-size:11px; font-weight:bold; padding:0 0 0 12px; cursor:pointer;background: url(../images/blank.gif);}
+#nav li a.top_link span {float:left; display:block; padding:0 24px 0 12px; height:36px;background:url(../images/blank.gif) right top;}
+#nav li a.top_link span.down {float:left; display:block; padding:0 24px 0 12px; height:36px; background:url(../images/blanka.gif) no-repeat right top;}
+#nav li a.top_link:hover {color:#fff; background: url(../images/blank_over.gif) no-repeat;}
+#nav li a.top_link:hover span {background:url(../images/blank_over.gif) no-repeat right top;}
+#nav li a.top_link:hover span.down {background:url(../images/blank_overa.gif) no-repeat right top;}
+
+#nav li:hover > a.top_link {color:#fff; background: url(../images/blank_over.gif) no-repeat;}
+#nav li:hover > a.top_link span {background:url(../images/blank_over.gif) no-repeat right top;}
+#nav li:hover > a.top_link span.down {background:url(../images/blank_overa.gif) no-repeat right top;}
+
+/* Default list styling */
+
+#nav li:hover {position:relative; z-index:200;}
+
+/* keep the 'next' level invisible by placing it off screen. */
+#nav ul, 
+#nav li:hover ul ul,
+#nav li:hover ul li:hover ul ul,
+#nav li:hover ul li:hover ul li:hover ul ul,
+#nav li:hover ul li:hover ul li:hover ul li:hover ul ul
+{position:absolute; left:-9999px; top:-9999px; width:0; height:0; margin:0; padding:0; list-style:none;}
+
+#nav li:hover ul.sub
+{left:0; top:31px; background: #fff; padding:3px; border:1px solid #3a93d2; white-space:nowrap; width:90px; height:auto; z-index:300;}
+#nav li:hover ul.sub li
+{display:block; height:20px; position:relative; float:left; width:90px; font-weight:normal;}
+#nav li:hover ul.sub li a
+{display:block; font-size:11px; height:20px; width:90px; line-height:20px; text-indent:5px; color:#000; text-decoration:none;}
+#nav li ul.sub li a.fly
+{background:#fff url(../images/arrow.gif) 80px 7px no-repeat;}
+#nav li:hover ul.sub li a:hover 
+{background:#3a93d2; color:#fff;}
+#nav li:hover ul.sub li a.fly:hover
+{background:#3a93d2 url(../images/arrow_over.gif) 80px 7px no-repeat; color:#fff;}
+
+#nav li:hover ul li:hover > a.fly {background:#3a93d2 url(../images/arrow_over.gif) 80px 7px no-repeat; color:#fff;} 
+
+#nav li:hover ul li:hover ul,
+#nav li:hover ul li:hover ul li:hover ul,
+#nav li:hover ul li:hover ul li:hover ul li:hover ul,
+#nav li:hover ul li:hover ul li:hover ul li:hover ul li:hover ul
+{left:90px; top:-4px; background: #fff; padding:3px; border:1px solid #3a93d2; white-space:nowrap; width:90px; z-index:400; height:auto;}
diff --git a/build/web/resources/css/layout.css b/build/web/resources/css/layout.css
index b2d2265..8cac771 100644
--- a/build/web/resources/css/layout.css
+++ b/build/web/resources/css/layout.css
@@ -1,5 +1,5 @@
 html, body {height: 100%;}
-body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px; margin: 0; padding: 0; background:#eaeaea url(../img/bg_body_left.png) repeat-y left; color: #666;}
+body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px; margin: 0; padding: 0; background:#eaeaea url(../../images/bg_body_left.png) repeat-y left; color: #666;}
 	p {padding: 0; margin: 0;}
 	ul, li {list-style: none; padding: 0; margin: 0;}
 	img {border: none;}
@@ -14,20 +14,20 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 
 	/* Header Elements */
 	
-	#header {width: 100%; height: 70px; background: #353535 url(../img/bg_header.png) repeat-x bottom;}
+	#header {width: 100%; height: 70px; background: #353535 url(../../images/bg_header.png) repeat-x bottom;}
 		.logo {float: left; padding: 20px 0 0 30px;}
 	
 		#searcharea {float: right; padding: 15px 15px 0 0;}
 			#searcharea p {color: #ccc; padding-top: 10px;}
 				#searcharea a {color: #ccc;}
 				#searcharea a:hover {color: #999;}
-			.searchbox {margin-left: 10px; font-size: 14px; color: #888; padding: 10px 15px; width: 350px; border: 1px solid #fff; -moz-border-radius: 8px; border-radius: 8px; background: #fff url(../img/bg_fade_med.png) repeat-x top;}
-			.searchbtn {background: url(../img/bg_btn_grey_lrg.png) repeat-x top; border: 1px solid #000; text-shadow: 1px 1px 1px #eee; padding: 10px; -moz-border-radius: 8px; border-radius: 8px;}
-				.searchbtn:hover {background: url(../img/bg_btn_grey_lrg.png) 0 -50px; cursor: pointer;}
+			.searchbox {margin-left: 10px; font-size: 14px; color: #888; padding: 10px 15px; width: 350px; border: 1px solid #fff; -moz-border-radius: 8px; border-radius: 8px; background: #fff url(../../images/bg_fade_med.png) repeat-x top;}
+			.searchbtn {background: url(../../images/bg_btn_grey_lrg.png) repeat-x top; border: 1px solid #000; text-shadow: 1px 1px 1px #eee; padding: 10px; -moz-border-radius: 8px; border-radius: 8px;}
+				.searchbtn:hover {background: url(../../images/bg_btn_grey_lrg.png) 0 -50px; cursor: pointer;}
 		
 	/* Top Breadcrumb */	
 	
-	#breadcrumb {height: 21px; background: #C7C7C7 url(../img/bg_breadcrumb.png) repeat-x top; margin: 0 0 0 226px; border-top: 1px solid #fff; border-bottom: 1px solid #fff; padding: 12px 0 8px 35px; text-shadow: 1px 1px 1px #e4e4e4;}
+	#breadcrumb {height: 21px; background: #C7C7C7 url(../../images/bg_breadcrumb.png) repeat-x top; margin: 0 0 0 226px; border-top: 1px solid #fff; border-bottom: 1px solid #fff; padding: 12px 0 8px 35px; text-shadow: 1px 1px 1px #e4e4e4;}
 			#breadcrumb li {float: left; padding-right: 5px;}
 			#breadcrumb li.current {font-weight: 700; font-size: 14px;}
 				#breadcrumb a {color: #666; text-decoration: none;}
@@ -35,16 +35,16 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 					
 	/* Left Side/Navigation Elements */	
 	
-	#leftside {width: 225px; height: 100%; background: #525252 url(../img/bg_leftside.png) repeat-x top; position: absolute; top: 70px; border-right:1px solid #fff; padding-top: 10px;}
+	#leftside {width: 225px; height: 100%; background: #525252 url(../../images/bg_leftside.png) repeat-x top; position: absolute; top: 70px; border-right:1px solid #fff; padding-top: 10px;}
 	
 	/* Top User Info Box */
 	
-		.user, .notifications {width:195px; padding: 15px; color: #ccc; overflow: auto; text-shadow: 1px 1px 1px #111; background: url(../img/bg_left_spacer.png) repeat-x bottom;}
+		.user, .notifications {width:195px; padding: 15px; color: #ccc; overflow: auto; text-shadow: 1px 1px 1px #111; background: url(../../images/bg_left_spacer.png) repeat-x bottom;}
 			.user img {float: left; margin: 5px 15px 10px 0;}
 			.username {color: #fff; font-size: 18px; font-weight:700; letter-spacing: -1px; padding-bottom: 5px;}
 			.userbtn {text-shadow: none; float: left; padding-right: 5px; text-align: center;}
-				.userbtn a {display: block; color: #000; text-shadow: 1px 1px 1px #eee; font-size: 11px; width: 58px; background: #ccc url(../img/bg_btn_grey_sml.png) repeat-x top; border: 1px solid #000; padding: 2px 0; text-decoration: none; border-radius: 5px; -moz-border-radius: 5px;}
-					.userbtn a:hover {color: #fff; background: #eee url(../img/bg_btn_grey_sml.png) 0 -30px; text-shadow: none;}
+				.userbtn a {display: block; color: #000; text-shadow: 1px 1px 1px #eee; font-size: 11px; width: 58px; background: #ccc url(../../images/bg_btn_grey_sml.png) repeat-x top; border: 1px solid #000; padding: 2px 0; text-decoration: none; border-radius: 5px; -moz-border-radius: 5px;}
+					.userbtn a:hover {color: #fff; background: #eee url(../../images/bg_btn_grey_sml.png) 0 -30px; text-shadow: none;}
 		
 		/* Side Notifications Link */
 		
@@ -54,7 +54,7 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	/* Navigation Elements */
 	
 		ul.navigation {width: 225px; color: #fff;}
-			ul.navigation li a {text-shadow: 1px 1px 1px #222; background: url(../img/bg_navigation_link.png) repeat-x top; outline: none; width: 205px; display: block; color: #fff; text-decoration: none; padding: 10px; height: 15px;}
+			ul.navigation li a {text-shadow: 1px 1px 1px #222; background: url(../../images/bg_navigation_link.png) repeat-x top; outline: none; width: 205px; display: block; color: #fff; text-decoration: none; padding: 10px; height: 15px;}
 				ul.navigation li a:hover {color: #ccc; background: #333;}
 
 			ul#nav li a.heading, a.collapsed, a.expanded, ul.navigation li.selected{line-height: 1.2em; width: 205px; font-size: 16px; font-weight: 700; padding: 9px 10px; display: block; color: #fff; cursor: pointer;}
@@ -66,9 +66,9 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	
 		.contentcontainer {margin-bottom: 20px;}
 		
-			.headings {padding: 0 20px; border: 1px solid #CACACA; text-shadow: 1px 1px 1px #fff; background: #EAEAEA url(../img/bg_heading.png) repeat-x top; border-top-left-radius: 10px; border-top-right-radius: 10px; -moz-border-radius-topright: 10px; 	-moz-border-radius-topleft: 10px; letter-spacing: -1px; height: 45px;}
+			.headings {padding: 0 20px; border: 1px solid #CACACA; text-shadow: 1px 1px 1px #fff; background: #EAEAEA url(../../images/bg_heading.png) repeat-x top; border-top-left-radius: 10px; border-top-right-radius: 10px; -moz-border-radius-topright: 10px; 	-moz-border-radius-topleft: 10px; letter-spacing: -1px; height: 45px;}
 				.headings h2 {padding-top: 10px; font-size: 20px;}
-			.contentbox {overflow: auto; border: 1px solid #fff; padding: 15px; background: #fff url(../img/bg_fade_med.png) repeat-x top; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; -moz-border-radius-bottomright: 10px; -moz-border-radius-bottomleft: 10px;}	
+			.contentbox {overflow: auto; border: 1px solid #fff; padding: 15px; background: #fff url(../../images/bg_fade_med.png) repeat-x top; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; -moz-border-radius-bottomright: 10px; -moz-border-radius-bottomleft: 10px;}	
 			.nopad {padding: 0;}
 			.contentbox p {padding-bottom: 15px;}
 			.contentbox a, #notificationsbox a {color: #666;}
@@ -84,7 +84,7 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 			
 		ul.pagination {float: right; font-size: 11px; clear: both;}
 			ul.pagination li {float: left; padding-right: 5px;}
-				ul.pagination li a {padding: 3px 7px; border: 1px solid #ccc; text-decoration: none; border-radius: 5px; -moz-border-radius: 5px; display: block; background: #fff url(../img/bg_fade_up.png) repeat-x bottom;}
+				ul.pagination li a {padding: 3px 7px; border: 1px solid #ccc; text-decoration: none; border-radius: 5px; -moz-border-radius: 5px; display: block; background: #fff url(../../images/bg_fade_up.png) repeat-x bottom;}
 				ul.pagination li.page a {color: #fff; font-weight: 700;}
 					ul.pagination li.page a:hover {color: #fff;}
 				ul.pagination li.text a {border: none; text-decoration: underline; padding: 0 5px 0 0;}
@@ -92,16 +92,16 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 			
 	/* Notice Boxes */
 	
-	.noticebox, .noticeboxalt {border: 1px solid #FDD845; background: #FFE082 url(../img/bg_noticebox_yellow.png) repeat-x top; width: 267px; margin: 0 15px 15px 0; float: left; text-shadow: 1px 1px 1px #fff;}
-		.noticeboxalt {border: 1px solid #ccc; background: #D8D8D8 url(../img/bg_noticebox_grey.png) repeat-x top;}
+	.noticebox, .noticeboxalt {border: 1px solid #FDD845; background: #FFE082 url(../../images/bg_noticebox_yellow.png) repeat-x top; width: 267px; margin: 0 15px 15px 0; float: left; text-shadow: 1px 1px 1px #fff;}
+		.noticeboxalt {border: 1px solid #ccc; background: #D8D8D8 url(../../images/bg_noticebox_grey.png) repeat-x top;}
 		.noticebox a, .noticeboxalt a {text-shadow: none;}
 	.innernotice {padding: 15px; border: 1px solid #fff; width: 235px; float: left; background: none;}
 	
 	/* Notifications Box */
 	
 	#notificationsbox {width: 375px; background: #fff; border-radius: 15px; -moz-border-radius: 15px; -webkit-border-radius: 15px; display: none;}
-		#notificationsbox h4 {width: 375px; padding: 15px 0; background: #999 url(../img/bg_grey_dark_med.png) repeat-x top; text-align: center;  border-top-left-radius: 15px; border-top-right-radius: 15px; -moz-border-radius-topright: 15px; -moz-border-radius-topleft: 15px; text-shadow: 1px 1px 1px #e0e0e0; font-size: 28px; border-bottom: 1px solid #777;}
-		#notificationsbox li {padding: 15px; width: 345px; border-bottom: 1px solid #ccc; background: url(../img/bg_fade_up.png) repeat-x bottom;}
+		#notificationsbox h4 {width: 375px; padding: 15px 0; background: #999 url(../../images/bg_grey_dark_med.png) repeat-x top; text-align: center;  border-top-left-radius: 15px; border-top-right-radius: 15px; -moz-border-radius-topright: 15px; -moz-border-radius-topleft: 15px; text-shadow: 1px 1px 1px #e0e0e0; font-size: 28px; border-bottom: 1px solid #777;}
+		#notificationsbox li {padding: 15px; width: 345px; border-bottom: 1px solid #ccc; background: url(../../images/bg_fade_up.png) repeat-x bottom;}
 			#notificationsbox li h5 {font-size: 13px;}
 			#notificationsbox li p {font-size: 10px;}
 			#notificationsbox p.loadmore {padding: 15px;}
@@ -109,7 +109,7 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	
 	/* News Box */
 	
-	.newsitem {border-bottom: 1px solid #ccc; padding: 15px; text-align: left; background: url(../img/bg_fade_up.png) repeat-x bottom;}
+	.newsitem {border-bottom: 1px solid #ccc; padding: 15px; text-align: left; background: url(../../images/bg_fade_up.png) repeat-x bottom;}
 		.newsitem img {float: left; margin: 0 15px 13px 0;}
 		.newsitem p {padding: 0 0 10px 0;}
 		p.bottominfo {padding: 10px 15px;}
@@ -123,10 +123,10 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	
 	table {border-collapse: collapse;}
 		th,td {text-align: left; padding: 8px;}
-		th {background: #E0E0E0 url(../img/bg_th.png) repeat-x top; text-shadow: 1px 1px 1px #fff; font-size: 14px;}
-		tr.alt td{background: #F2F2F2 url(../img/bg_td_alt.png) repeat-x top; text-shadow: 1px 1px 1px #fff;}
+		th {background: #E0E0E0 url(../../images/bg_th.png) repeat-x top; text-shadow: 1px 1px 1px #fff; font-size: 14px;}
+		tr.alt td{background: #F2F2F2 url(../../images/bg_td_alt.png) repeat-x top; text-shadow: 1px 1px 1px #fff;}
 	
-	.extrabottom {padding: 15px; height: 40px; background: url(../img/bg_fade_sml.png) repeat-x top; border-radius: 10px; -moz-border-radius: 10px; margin-top: 10px;}
+	.extrabottom {padding: 15px; height: 40px; background: url(../../images/bg_fade_sml.png) repeat-x top; border-radius: 10px; -moz-border-radius: 10px; margin-top: 10px;}
 		.extrabottom ul {float: left;}
 			.extrabottom li {float: left; padding-right: 25px;}
 				.extrabottom li img {float: left; padding: 0 5px 0 0;}
@@ -137,11 +137,11 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	select {padding: 7px 10px; border: 1px solid #ccc; border-radius: 5px; -moz-border-radius: 5px;}
 	label {padding-right: 20px; display: block; padding-bottom: 10px;}
 	input, textarea {font-family: Arial, Helvetica, sans-serif;}
-	.inputbox {border: 1px solid #999; padding: 10px; width: 300px; -moz-border-radius: 3px; border-radius: 3px; margin-bottom: 5px; color: #666; background: url(../img/bg_fade_sml.png) repeat-x top;}
+	.inputbox {border: 1px solid #999; padding: 10px; width: 300px; -moz-border-radius: 3px; border-radius: 3px; margin-bottom: 5px; color: #666; background: url(../../images/bg_fade_sml.png) repeat-x top;}
 		.inputbox:focus {border: 1px solid #666;}
-	.errorbox {border: 1px solid #CC0000; background: #FCF0EF url(../img/bg_fade_red_sml.png) repeat-x top; color: #CC0000; margin-right: 5px;}
+	.errorbox {border: 1px solid #CC0000; background: #FCF0EF url(../../images/bg_fade_red_sml.png) repeat-x top; color: #CC0000; margin-right: 5px;}
 		.errorbox:focus {border: 1px solid #8A0000;}
-	.correctbox {border: 1px solid #9DB832; background: #F3F8E0 url(../img/bg_fade_green_sml.png) repeat-x top;; color: #9DB832; margin-right: 5px;}
+	.correctbox {border: 1px solid #9DB832; background: #F3F8E0 url(../../images/bg_fade_green_sml.png) repeat-x top;; color: #9DB832; margin-right: 5px;}
 		.correctbox:focus {border: 1px solid #7C9227;}
 	.smallbox {width: 150px;}
 
@@ -154,22 +154,22 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 		.status .closestatus {float: right; color: #fff; text-align: center; margin-left: 10px;}
 			.status .closestatus a {position: relative; color: #fff; text-decoration: none; padding: 5px; width: 10px; height: 10px; display: block; border-radius: 5px; -moz-border-radius: 5px; line-height: .6em; top: -2px; text-shadow: none;}
 	
-	.warning {border: 3px solid #BF9900; background: #FEEB9C url(../img/bg_fade_yellow_med.png) repeat-x top;}
+	.warning {border: 3px solid #BF9900; background: #FEEB9C url(../../images/bg_fade_yellow_med.png) repeat-x top;}
 		.warning span {color: #BF9900;}
 		.warning .closestatus a {background: #BF9900;}
 			.warning .closestatus a:hover {background: #9B7C00;}
 			
-	.success {border: 3px solid #8EA534; background: #CBDA8F url(../img/bg_fade_green_med.png) repeat-x top;}
+	.success {border: 3px solid #8EA534; background: #CBDA8F url(../../images/bg_fade_green_med.png) repeat-x top;}
 		.success span {color: #8EA534;}
 		.success .closestatus a {background: #8EA534;}
 			.success .closestatus a:hover {background: #829829;}
 			
-	.error {border: 3px solid #990000; background: #F5D0CD url(../img/bg_fade_red_med.png) repeat-x top;}
+	.error {border: 3px solid #990000; background: #F5D0CD url(../../images/bg_fade_red_med.png) repeat-x top;}
 		.error span {color: #990000;}
 		.error .closestatus a {background: #990000;}
 			.error .closestatus a:hover {background: #730D0D;}
 	
-	.info {border: 3px solid #2FADD7; background: #92D6ED url(../img/bg_fade_blue_med.png) repeat-x top;}
+	.info {border: 3px solid #2FADD7; background: #92D6ED url(../../images/bg_fade_blue_med.png) repeat-x top;}
 		.info span {color: #0E7A9F;}
 		.info .closestatus a {background: #2FADD7;}
 			.info .closestatus a:hover {background: #228DB0;}
@@ -178,9 +178,9 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	
 	.usagebox {border: 1px solid #ccc;}
 		.usagebox div {height: 25px;}
-		.highbar {background: #993300 url(../img/bg_usage_red.png) repeat-x top;}
-		.midbar {background: #D27E00 url(../img/bg_usage_orange.png) repeat-x top;}
-		.lowbar {background: #92AD25 url(../img/bg_usage_green.png) repeat-x top;}
+		.highbar {background: #993300 url(../../images/bg_usage_red.png) repeat-x top;}
+		.midbar {background: #D27E00 url(../../imagesg/bg_usage_orange.png) repeat-x top;}
+		.lowbar {background: #92AD25 url(../../images/bg_usage_green.png) repeat-x top;}
 		
 		.usagetxt {padding: 3px 8px; -moz-border-radius: 5px; border-radius: 5px; text-shadow: 1px 1px 1px #fff;}
 		
@@ -190,12 +190,12 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	
 	/* Text Styling Elements */
 	
-	ul.list li {background: url(../img/icons/icon_bullet.png) no-repeat left; padding-left: 25px; margin-bottom: 5px;}
-	ul.ticklist li {background: url(../img/icons/icon_ticklist.png) no-repeat left; padding-left: 25px; margin-bottom: 5px;}
-		ul.ticklist li.cross {background: url(../img/icons/icon_cross_sml.png) no-repeat left;}
+	ul.list li {background: url(../../images/icons/icon_bullet.png) no-repeat left; padding-left: 25px; margin-bottom: 5px;}
+	ul.ticklist li {background: url(../../images/icons/icon_ticklist.png) no-repeat left; padding-left: 25px; margin-bottom: 5px;}
+		ul.ticklist li.cross {background: url(../../images/icons/icon_cross_sml.png) no-repeat left;}
 	
 	.highlighted {color: #DFB300; background: #FFF8CF; font-weight: 700; padding: 4px 7px; text-shadow: 1px 1px 1px #fff; border-radius: 5px; -moz-border-radius: 5px;}
-	.spacer {background: url(../img/bg_fade_up.png) repeat-x center; padding: 10px 0; margin-bottom: 10px;}
+	.spacer {background: url(../../images/bg_fade_up.png) repeat-x center; padding: 10px 0; margin-bottom: 10px;}
 	
 	.dropcap {letter-spacing:0;  text-transform:uppercase;  color:#628fbe;   font-family:times,serif;   font-size:3.5em;   float:left;   margin: 0.13em 0.2em 0 0;  line-height:0.7;}	
 	
@@ -241,4 +241,4 @@ body {height: 100%; font-family: Arial, Helvetica, sans-serif; font-size: 13px;
 	
 	/* Footer */
 	
-	#footer {font-size: 11px; padding: 15px 10px; clear: both; background: url(../img/bg_footer.png) repeat-x bottom; margin-bottom: 20px; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; -moz-border-radius-bottomright: 10px; -moz-border-radius-bottomleft: 10px; text-shadow: 1px 1px 1px #fff;}
+	#footer {font-size: 11px; padding: 15px 10px; clear: both; background: url(../../images/bg_footer.png) repeat-x bottom; margin-bottom: 20px; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; -moz-border-radius-bottomright: 10px; -moz-border-radius-bottomleft: 10px; text-shadow: 1px 1px 1px #fff;}
diff --git a/build/web/resources/css/message.css b/build/web/resources/css/message.css
index 8266a39..5fa411c 100644
--- a/build/web/resources/css/message.css
+++ b/build/web/resources/css/message.css
@@ -37,31 +37,31 @@ a:link { -webkit-tap-highlight-color: #FF5E99; }
 .close-notification:hover { color:#333; }
 .notification.error {
 	background-color:#f2d4ce;
-	background-image:url(../img/icons/icon_notification_error.png);
+	background-image:url(../icons/icon_notification_error.png);
 	border-color:#ae432e;
 }
 .notification.error strong { color:#ae432e; }
 .notification.success {
 	background-color:#d9e6c3;
-	background-image:url(../img/icons/icon_notification_success.png);
+	background-image:url(../icons/icon_notification_success.png);
 	border-color:#77ab13;
 }
 .notification.success strong { color:#69990f; }
 .notification.attention {
 	background-color:#faf6d4;
-	background-image:url(../img/icons/icon_notification_attention.png);
+	background-image:url(../icons/icon_notification_attention.png);
 	border-color:#e6c26e;
 }
 .notification.attention strong { color:#be8007; }
 .notification.information {
 	background-color:#cee6f2;
-	background-image:url(../img/icons/icon_notification_information.png);
+	background-image:url(../icons/icon_notification_information.png);
 	border-color:#058dc7;
 }
 .notification.information strong { color:#0576a6; }
 .notification.note {
 	background-color:#f2f2f2;
-	background-image:url(../img/icons/icon_notification_note.png);
+	background-image:url(../icons/icon_notification_note.png);
 	border-color:#d1d1d1;
 }
 .notification.note strong { color:#737373; }
\ No newline at end of file
diff --git a/build/web/resources/settings.xml b/build/web/resources/settings.xml
index a212f92..846f590 100644
--- a/build/web/resources/settings.xml
+++ b/build/web/resources/settings.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <settings>
-    <data_type>xml</data_type>
+    <data_type>csv</data_type>
   <background>
     <alpha>100</alpha>
     <border_alpha>20</border_alpha>
@@ -10,14 +10,14 @@
     <max>100</max>
   </values>
   <balloon>
-    <show>{title}: ${value} mln.</show>
+    <show>{value} pts.</show>
   </balloon>
   <legend>
     <align>center</align>
   </legend>
   <graphs>
     <graph gid="0">
-      <title>Actual spending</title>
+      <title>Grafico de Competitividad</title>
       <color>FFCC00</color>
       <line_width>2</line_width>
       <fill_alpha>52</fill_alpha>
diff --git a/build/web/resources/style.css b/build/web/resources/style.css
index a2be39e..47ade38 100644
--- a/build/web/resources/style.css
+++ b/build/web/resources/style.css
@@ -15,6 +15,7 @@ a:hover { text-decoration:underline;}
 .logo { padding:0; margin:0; width:293px; float:left;}
 /* search */
 .search { width:260px; float:right; padding:25px 0 0 0; margin:0 20px 0 0; }
+.inGo { float:right; padding:55px 0 0 0; margin:0 0 0 0; }
 .search form { display:block; float:left; padding:5px 0;}
 .search span { display:block; float:left; background:url(../images/search_bg.gif) left top no-repeat; height:35px; width:193px; padding:0 10px;}
 .search form .keywords { float:left; background:none; border:0; height:13px; width:193px; padding:11px 0; margin:0; font:normal 12px Arial, Helvetica, sans-serif; color:#a1a1a1;}
@@ -62,8 +63,10 @@ a:hover { text-decoration:underline;}
 
 .body a { text-decoration:none; color:#006ba2; line-height:1.8em;}
 .right { background: url(../images/right_bg.gif) top repeat-y; float:left; width:319px; margin:10px 6px; padding:0;}
+.ri1 { background: url(../images/right_bg.gif) top repeat-y; width:319px;}
 .right_top { background:url(../images/right_top_img.gif) top no-repeat; margin:0; padding:0; }
 .right_bottom { margin:0; background:url(../images/right_bottomght_img.gif) bottom no-repeat; padding:5px 0; width:319px;}
+.right_bottom_ri1 { margin:0; background:url(../images/right_bottomght_img.gif) bottom no-repeat ; padding:5px 0; width:319px;}
 .right ul { list-style:none; margin:10px 0 0 30px; padding:0;}
 .right2 { float:left; width:646px; margin:0; padding:10px;}
 .right1 { float:left; width:313px; margin:0; padding:10px;}
diff --git a/build/web/resultado.jsp b/build/web/resultado.jsp
index a0508af..4bc1b8b 100644
--- a/build/web/resultado.jsp
+++ b/build/web/resultado.jsp
@@ -4,11 +4,40 @@
     Author     : Dave
 --%>
 
+<%@page import="pojo.Contrato"%>
+<%@page import="daoImpl.ContratoDaoImpl"%>
+<%@page import="pojo.Usuario"%>
+<%@page import="daoImpl.UsuarioDaoImpl"%>
+<%@page import="daoImpl.AccesoDaoImpl"%>
+<%@page import="pojo.Acceso"%>
 <%@page contentType="text/html" pageEncoding="UTF-8"%>
 <!DOCTYPE html>
 <html>
     <head>
-       <title>SECE</title>           
+        <%
+        HttpSession sesion=request.getSession();
+        sesion.setMaxInactiveInterval(3600);
+        String acc = (String) sesion.getAttribute("idAcc");
+        
+        int idContrato =0;
+        if(acc==null){
+              response.sendRedirect("index.jsp");
+       }else{
+            
+         AccesoDaoImpl daoAcceso = new AccesoDaoImpl();
+         Acceso acceso = daoAcceso.findById(Integer.parseInt(acc));
+       
+         int id_usuario = acceso.getUsuario().getIdUsuario();
+         UsuarioDaoImpl usuDao = new UsuarioDaoImpl();
+         Usuario usuario = new Usuario();
+         usuario = usuDao.findById(id_usuario);
+         
+         ContratoDaoImpl daoContra = new ContratoDaoImpl();
+         Contrato contrato = (Contrato) daoContra.findByUsuario(usuario);//donde el estado sea igual 1
+         idContrato = contrato.getIdContrato();
+            
+        %>
+       <title>Grafico</title>           
         <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
 	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
         <script language="javascript" type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>
@@ -19,15 +48,16 @@
         <script src="resources/amcharts/javascript/raphael.js" type="text/javascript"></script>
         <script type="text/javascript" src="resources/amcharts/flash/swfobject.js"></script>
         <script type="text/javascript">
-                       
+                 var id_contrato=<%=idContrato%>;  
+                   
            var flashVars = {
                 settings_file: "resources/settings.xml",
-                data_file: "GraficoResultado"
+                data_file: "GraficoResultado?idcontrato="+id_contrato
            };
            
            $(document).ready(function(){ 
                  // change 8 to 80 to test javascript version
-            if (swfobject.hasFlashPlayerVersion("80")){
+            if (swfobject.hasFlashPlayerVersion("90")){
                 swfobject.embedSWF("resources/amcharts/flash/amradar.swf", "chartdiv", "700", "600", "8.0.0", "resources/amcharts/flash/expressInstall.swf", flashVars);
             }
             else {
@@ -39,7 +69,14 @@
             }
                 
                 
-            });       
+            });  
+            
+            function goout(){
+               location.href="salir";
+            }
+            function goBack(){
+               location.href="controlPanel.jsp";
+            }
            
 	 </script>
         <style>
@@ -58,6 +95,10 @@
       </div>
       <div class="clr"></div>
       <div class="logo"><img src="images/logo.gif" width="293" height="84" border="0" alt="logo" /></div>      
+      <div class="inGo">
+          <a href="#" onclick="goBack();" ><strong>Regresar</strong></a>          
+          <a href="#" onclick="goout();" ><strong>Salir</strong></a>
+      </div>
       <div class="clr"></div>
     </div>
   </div>
@@ -68,3 +109,6 @@
       </div>
     </body>
 </html>
+<%
+}
+%>
\ No newline at end of file
diff --git a/nbproject/private/private.properties b/nbproject/private/private.properties
index 6bfec57..57cb265 100644
--- a/nbproject/private/private.properties
+++ b/nbproject/private/private.properties
@@ -1,7 +1,7 @@
-deploy.ant.properties.file=C:\\Users\\wmiguel\\.netbeans\\7.0\\gfv3-1727893373.properties
+deploy.ant.properties.file=C:\\Users\\Mendieta\\.netbeans\\7.0\\gfv3-1394901108.properties
 j2ee.platform.is.jsr109=true
-j2ee.server.home=C:/Program Files (x86)/glassfish-3.1/glassfish
-j2ee.server.instance=[C:\\Program Files (x86)\\glassfish-3.1\\glassfish]deployer:gfv3ee6wc:localhost:4848
+j2ee.server.home=C:/Program Files/glassfish-3.1.1/glassfish
+j2ee.server.instance=[C:\\Program Files\\glassfish-3.1.1\\glassfish]deployer:gfv3ee6wc:localhost:4848
 javac.debug=true
 javadoc.preview=true
-user.properties.file=C:\\Users\\wmiguel\\.netbeans\\7.0\\build.properties
+user.properties.file=C:\\Users\\Mendieta\\.netbeans\\7.0\\build.properties
diff --git a/nbproject/project.properties b/nbproject/project.properties
index 7a264a4..1493f0b 100644
--- a/nbproject/project.properties
+++ b/nbproject/project.properties
@@ -30,7 +30,7 @@ includes=**
 j2ee.compile.on.save=true
 j2ee.deploy.on.save=true
 j2ee.platform=1.6-web
-j2ee.platform.classpath=${j2ee.server.home}/modules/javax.persistence.jar:${j2ee.server.home}/modules/bean-validator.jar:${j2ee.server.home}/modules/javax.servlet.jar:${j2ee.server.home}/modules/javax.ejb.jar:${j2ee.server.home}/modules/javax.security.auth.message.jar:${j2ee.server.home}/modules/jaxrpc-api-osgi.jar:${j2ee.server.home}/modules/endorsed/jaxb-api-osgi.jar:${j2ee.server.home}/modules/javax.jms.jar:${j2ee.server.home}/modules/javax.transaction.jar:${j2ee.server.home}/modules/javax.resource.jar:${j2ee.server.home}/modules/javax.servlet.jsp.jstl.jar:${j2ee.server.home}/modules/endorsed/webservices-api-osgi.jar:${j2ee.server.home}/modules/javax.servlet.jsp.jar:${j2ee.server.home}/modules/javax.management.j2ee.jar:${j2ee.server.home}/modules/weld-osgi-bundle.jar:${j2ee.server.home}/modules/jsf-impl.jar:${j2ee.server.home}/modules/javax.security.jacc.jar:${j2ee.server.home}/modules/jersey-core.jar:${j2ee.server.home}/modules/jstl-impl.jar:${j2ee.server.home}/modules/javax.enterprise.deploy.jar:${j2ee.server.home}/modules/javax.mail.jar:${j2ee.server.home}/modules/jsf-api.jar:${j2ee.server.home}/modules/endorsed/javax.annotation.jar
+j2ee.platform.classpath=${j2ee.server.home}/modules/endorsed/javax.annotation.jar:${j2ee.server.home}/modules/jersey-core.jar:${j2ee.server.home}/modules/jsf-api.jar:${j2ee.server.home}/modules/endorsed/jaxb-api-osgi.jar:${j2ee.server.home}/modules/javax.security.jacc.jar:${j2ee.server.home}/modules/bean-validator.jar:${j2ee.server.home}/modules/javax.resource.jar:${j2ee.server.home}/modules/javax.ejb.jar:${j2ee.server.home}/modules/javax.enterprise.deploy.jar:${j2ee.server.home}/modules/weld-osgi-bundle.jar:${j2ee.server.home}/modules/javax.mail.jar:${j2ee.server.home}/modules/jaxr-api-osgi.jar:${j2ee.server.home}/modules/javax.servlet.jsp.jar:${j2ee.server.home}/modules/javax.transaction.jar:${j2ee.server.home}/modules/jaxrpc-api-osgi.jar:${j2ee.server.home}/modules/javax.servlet.jsp.jstl.jar:${j2ee.server.home}/modules/jsf-impl.jar:${j2ee.server.home}/modules/jstl-impl.jar:${j2ee.server.home}/modules/javax.security.auth.message.jar:${j2ee.server.home}/modules/endorsed/webservices-api-osgi.jar:${j2ee.server.home}/modules/javax.persistence.jar:${j2ee.server.home}/modules/javax.management.j2ee.jar:${j2ee.server.home}/modules/javax.jms.jar:${j2ee.server.home}/modules/javax.servlet.jar
 j2ee.platform.embeddableejb.classpath=${j2ee.server.home}/lib/embedded/glassfish-embedded-static-shell.jar
 j2ee.platform.wscompile.classpath=${j2ee.server.home}/modules/webservices-osgi.jar
 j2ee.platform.wsgen.classpath=${j2ee.server.home}/modules/webservices-osgi.jar:${j2ee.server.home}/modules/endorsed/webservices-api-osgi.jar:${j2ee.server.home}/modules/jaxb-osgi.jar:${j2ee.server.home}/modules/endorsed/jaxb-api-osgi.jar:${j2ee.server.home}/modules/javax.ejb.jar
diff --git a/src/java/hibernate.cfg.xml b/src/java/hibernate.cfg.xml
index 8ea39ca..cadc343 100644
--- a/src/java/hibernate.cfg.xml
+++ b/src/java/hibernate.cfg.xml
@@ -6,7 +6,7 @@
     <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
     <property name="hibernate.connection.url">jdbc:mysql://localhost:3306/sece</property>
     <property name="hibernate.connection.username">root</property>
-    <property name="hibernate.connection.password">s3c3/*01*/</property>
+    <property name="hibernate.connection.password">nightmare</property>
     <property name="hibernate.current_session_context_class">thread</property>
     <property name="hibernate.hbm2ddl.auto"> update </property>
     <mapping resource="mapping/Zone.hbm.xml"/>
diff --git a/web/admin_instrument.jsp b/web/admin_instrument.jsp
deleted file mode 100644
index fb1ad8c..0000000
--- a/web/admin_instrument.jsp
+++ /dev/null
@@ -1,458 +0,0 @@
-<%-- 
-    Document   : admin_instrument
-    Created on : 24-ene-2012, 15:32:57
-    Author     : Mendieta
---%>
-
-<%@page import="daoImpl.ItemDaoImpl"%>
-<%@page import="pojo.Item"%>
-<%@page import="daoImpl.VariableDaoImpl"%>
-<%@page import="pojo.Variable"%>
-<%@page import="java.util.Iterator"%>
-<%@page import="java.util.List"%>
-<%@page import="daoImpl.IndicadorDaoImpl"%>
-<%@page import="pojo.Indicador"%>
-<%@page import="daoImpl.UsuarioDaoImpl"%>
-<%@page import="pojo.Usuario"%>
-<%@page import="daoImpl.AccesoDaoImpl"%>
-<%@page import="pojo.Acceso"%>
-<%@page contentType="text/html" pageEncoding="UTF-8"%>
-<!DOCTYPE html>
-<%
-response.setHeader("Cache-Control","no-cache");
-response.setHeader("Cache-Control","no-store");
-response.setDateHeader("Expires", 0);
-%>
-<html>
-    <head>
-        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-        <META HTTP-EQUIV="Expires" CONTENT="-1">
-        <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
-        <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
-        <title>SECE</title>  
-         <% HttpSession sesion=request.getSession();
-        
-           String val = (String)sesion.getAttribute("idAcc");
-           if(val==null){
-              response.sendRedirect("index.jsp");
-           } else{     
-                %> 
-        <link rel="stylesheet" type="text/css" href="resources/css/styles.css"/>
-        <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
-         <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" /> 
-         <link type="text/css" href="resources/jquery/css/redmond/jquery.multiselect.css" rel="stylesheet" />
-         <link href="resources/style.css" rel="stylesheet" type="text/css" />
-           <link href="resources/css/message.css" rel="stylesheet" type="text/css" />
-         <script type="text/javascript" src="/sece/dwr/interface/instrumentoDWR.js"></script>
-        <script type="text/javascript" src="/sece/dwr/engine.js"></script>
-        <script type="text/javascript" src="/sece/dwr/util.js"></script>
-        <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>        
-	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
-         <script type="text/javascript" src="resources/jquery/js/jquery.corner.js"></script>
-         <script type="text/javascript" src="resources/jquery/js/jquery.multiselect.js"></script>
-          <script type="text/javascript" src="resources/jquery/js/jquery.multiselect.filter.js"></script>
-       <link href="resources/tablesorter/styles.css" rel="stylesheet" type="text/css" />   
-              
-        
-        <script> 
-           $(function(){
-              $("#tabs").tabs();   
-              $("#guardarIndi").button();
-              $("#clearIndi").button();
-              $("#guardarVar").button();
-              $("#clearVar").button();
-               $("#guardarItem").button();
-               $("#guardarSuger").button();
-              $("#clearSugerencia").button();
-              $("#clearItem").button();
-              
-              $("#selectItem").multiselect().multiselectfilter();
-            }); 
-             function callback() {//function para esconder el div de mensaje con efecto
-			setTimeout(function() {
-				$( "#box_message:visible" ).removeAttr( "style" ).slideUp();//fadeOut();
-			}, 1000 );
-		};
-            $( "#box_message" ).hide();//escondo el contenido del div para los mensajes
-         </script>
-         <script>
-             //Javascript para Indicador
-             function guardarIndicador(){
-                var indicador = $("#nindicador").val();
-                var contrib = $("#ncontri").val();
-                       if(indicador == "" || contrib == ""){
-                           var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Todos los datos son requeridos.</p></div><!-- /Notification --></section>";  
-                       $("#box_message").html(palabra);               
-                      $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje
-                       }else if(!(/\d/.test(contrib))){
-                        var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Dato Incorrecto</strong><p class='hola'>La contribución debe de ser un número real</p></div><!-- /Notification --></section>";  
-                        $("#box_message").html(palabra);               
-                        $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
-                        }
-                       else{                          
-                          instrumentoDWR.newIndicador(indicador, contrib);                         
-                          document.getElementById("fraIndi").src = "tableIndicador.jsp";
-                          limpiarIndicador();
-                       }                
-             }
-             
-             function limpiarIndicador(){
-                 document.getElementById("nindicador").value = "";
-                 document.getElementById("ncontri").value = "";
-             }
-         </script>
-         <script>
-             //Javascript para Variable
-             function guardarVariable(){
-                var variable = $("#nvariable").val();
-                var ponderacion = $("#nvarpon").val();
-                var indicadorVar = $("#indNewVar").val();
-                var esca4 = $("#escala4").val();
-                var rmenor4 = $("#rm4").val();
-                var rmayor4 = $("#rM4").val();
-                var esca3 = $("#escala3").val();
-                var rmenor3 = $("#rm3").val();
-                var rmayor3 = $("#rM3").val();
-                var esca2 = $("#escala2").val();
-                var rmenor2 = $("#rm2").val();
-                var rmayor2 = $("#rM2").val();
-                var esca1 = $("#escala1").val();
-                var rmenor1 = $("#rm1").val();
-                var rmayor1 = $("#rM1").val();
-                var esca0 = $("#escala0").val();
-                var rmenor0 = $("#rm0").val();
-                var rmayor0 = $("#rM0").val();
-                                
-                       if(variable == "" || ponderacion == "" || esca4 == "" || esca3 =="" || esca2== "" || esca1=="" || esca0 =="" || rmenor4 =="" || rmayor4 =="" || rmenor3 =="" || rmayor3 =="" || rmenor2 =="" || rmayor2 =="" || rmenor1 =="" || rmayor1 =="" || rmenor0 =="" || rmayor0 ==""){
-                        var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Todos los datos son requeridos.</p></div><!-- /Notification --></section>";  
-                       $("#box_message").html(palabra);               
-                      $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje
-                       }else if(!(/\d/.test(ponderacion, rmenor4, rmayor4, rmenor3, rmayor3, rmenor2, rmayor2, rmenor1, rmayor1, rmenor0, rmayor0))){
-                        var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Dato Incorrecto</strong><p class='hola'>La Ponderacion y los rangos de respuestas deben de ser un número real</p></div><!-- /Notification --></section>";  
-                        $("#box_message").html(palabra);               
-                        $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
-                        }
-                       else{                          
-                          instrumentoDWR.newVariable(variable, indicadorVar, ponderacion, esca4, esca3, esca2, esca1, esca0, rmenor4, rmayor4, rmenor3, rmayor3, rmenor2, rmayor2, rmenor1, rmayor1, rmenor0, rmayor0);                         
-                          document.getElementById("fraVar").src = "tableVariable.jsp";
-                          limpiarVariable();
-                       }                
-             }
-             
-             function limpiarVariable(){
-                 document.getElementById("nvariable").value = "";
-                 document.getElementById("nvarpon").value = "";
-                 document.getElementById("escala4").value = "";
-                 document.getElementById("escala3").value = "";
-                 document.getElementById("escala2").value = "";
-                 document.getElementById("escala1").value = "";
-                 document.getElementById("escala0").value = "";
-                 document.getElementById("rm4").value = "";
-                 document.getElementById("rM4").value = "";
-                 document.getElementById("rm3").value = "";
-                 document.getElementById("rM3").value = "";
-                 document.getElementById("rm2").value = "";
-                 document.getElementById("rM2").value = "";
-                 document.getElementById("rm1").value = "";
-                 document.getElementById("rM1").value = "";
-                 document.getElementById("rm0").value = "";
-                 document.getElementById("rM0").value = "";
-             }
-         </script>
-         <script>
-             //Javascript para Item
-             function guardarIt(){
-                  
-                var newitem = $("#newItemDesc").val();
-                var variableItem = $("#varItem").val();
-                
-                       if(newitem == ""){
-                         var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Favor, ingrese el Item.</p></div><!-- /Notification --></section>";  
-                       $("#box_message").html(palabra);               
-                      $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje
-                       }
-                       else{                            
-                          instrumentoDWR.newItem(newitem, variableItem);                          
-                          document.getElementById("fraItem").src = "tableItem.jsp";
-                          limpiarItem();
-                       }                
-             }
-             
-             function limpiarItem(){
-                 document.getElementById("newItemDesc").value = "";                 
-             }
-         </script>
-         <script>
-             //Javascript para Sugerencia
-             function guardarSugerencia(){
-                 var selecteds = $("#selectItem").val();
-                 var suge = $("#txtsuge").val();
-                 if(selecteds == null || suge == ""){
-                    var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Ingrese los datos correctamente</p></div><!-- /Notification --></section>";  
-                       $("#box_message").html(palabra);               
-                      $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
-                 }else{     
-                            instrumentoDWR.newSugerencia(suge, selecteds);
-                            document.getElementById("fraSug").src = "tableSugerencias.jsp";
-                            limpiarSugerencia();                            
-                        }
-             }
-             
-             function limpiarSugerencia(){
-                 document.getElementById("txtsuge").value = "";
-                                  
-             }
-         </script>
-         <%
-           Acceso acc = new Acceso();
-           AccesoDaoImpl adi = new AccesoDaoImpl();
-           acc = adi.findById(Integer.valueOf(val));
-          
-        
-           Usuario usu = new Usuario();
-           UsuarioDaoImpl udi = new UsuarioDaoImpl();
-           usu = acc.getUsuario(); 
-           int iduser = usu.getIdUsuario();
-           usu = udi.findById(iduser);
-                   if(usu.getTipoUsuario()!= 1){
-                       response.sendRedirect("index.jsp"); 
-                   }
-            sesion.setAttribute("idAcc", val);          
-           
-                                                 
-        %>
-         
-    </head>
-    <body>
-       <div class="main">
-  <div class="header">
-    <div class="header_resize">      
-      <div class="menu">
-        
-      </div>
-      <div class="clr"></div>
-       <div class="menuAdmin">
-          <img src="images/home.png"  onclick="location.href='main_admin.jsp';" width="60" height="60" border="0" alt="edit"/>
-          <img src="images/editar.png" onclick="location.href='admin_instrument.jsp';" width="60" height="60" border="0" alt="edit"/>         
-       </div>  
-      <div class="clr"></div>
-      <h2>Bienvenido <%= usu.getNombre() %></h2>
-      <div id="box_message" >                           
-        </div>
-    </div>
-  </div>
-            <div id="tabs" style="margin-left: 1%; margin-right: 1%;" >
-                <ul>
-                    <li><a href="#tabIndicador"><span>INDICADOR</span></a></li>
-                    <li><a href="#tabVariable"><span>VARIABLE</span></a></li>
-                    <li><a href="#tabItem"><span>ITEM</span></a></li>
-                    <li><a href="#tabEscala"><span>ESCALA</span></a></li>
-                    <li><a href="#tabSugerencia"><span>SUGERENCIA</span></a></li>
-                </ul>
-                
-                <div id="tabIndicador" style="height: 55em;" >
-                   <div>
-                       <br>
-                       <div align="center">
-                           <div class="divPanel" style="width: 500px; height: 150px;">
-                           <h2 align =" center"> Nuevo Indicador</h2>
-                           <form id="newindicador" >
-                               <table>
-                                   <tr>
-                                       <td>Indicador:</td>
-                                       <td><input id="nindicador" maxlength="50" type="text"/></td>
-                                       <td>&nbsp; &nbsp;</td>
-                                       <td>Contribuci&oacuten:</td>
-                                       <td><input id="ncontri" type="text"/></td>
-                                   </tr>
-                               </table>
-                               <br>
-                               <input type="button" id="guardarIndi" onclick="guardarIndicador();" value="Guardar"/>
-                               <input type="button" id="clearIndi" onclick="limpiarIndicador();" value="Limpiar"/>
-                           </form>
-                           </div><br>
-                       </div>
-                       
-                      <iframe src="tableIndicador.jsp" style=" width: 100%; height: 495px;" frameborder="0" scrolling="false"  id="fraIndi"></iframe>                             
-                   </div>
-                </div>
-                <div id="tabVariable" style="height: 75em;">
-                    <div>                       
-                        <div align="center">
-                            <div class="divPanel" style="width: 90%; height: 402px;">
-                            <h2>Nueva Variable</h2>
-                            <form id="newVar">
-                                <table>
-                                       <tr>
-                                           <td>Variable:</td>
-                                           <td><input id="nvariable" maxlength="200" type="text" size="50em" /></td>
-                                           <td>&nbsp; &nbsp;</td>
-                                           <td>Indicador:</td>
-                                           <td><select id="indNewVar" style="width: 15em">
-                                                    <% 
-                                                   Indicador indi = new Indicador();
-                                                   IndicadorDaoImpl idimp = new IndicadorDaoImpl();
-                             
-                                                   List<Indicador> listaIndicadores = idimp.findAll(); 
-                                                   Iterator<Indicador> iteratorInd = listaIndicadores.iterator();                                                                             
-                                                   iteratorInd = listaIndicadores.iterator();
-                                                                             
-                                                   while(iteratorInd.hasNext()){
-                                                       indi = iteratorInd.next();
-                                                       if(indi.getEstado() == true){
-                                                     %>
-                                                     <option value="<%= indi.getIdIndicador().toString() %>"><%= indi.getNombre() %></option>
-                                                                                 
-                                                     <% }                                                                                 
-                                                        } %>                                                                                                                                                               
-                                           </select></td>   
-                                           <td>&nbsp; &nbsp;</td>
-                                           <td>Ponderaci&oacuten:</td>
-                                           <td><input id="nvarpon" type="text" /></td>
-                                       </tr>                          
-                                </table>
-                                <h3>Escalas de Variable</h3>                      
-                                <table style="width: 60%; margin-bottom: 1px;" class="tablesorter" cellspacing="1">
-                                    <thead>                                         
-                                          <tr>
-                                              <th>Descripci&oacuten</th>
-                                              <th style="width: 100px" >Rango de Respuestas Positivas</th>
-                                              <th>Valor</th>
-                                          </tr>                              
-                                    </thead>
-                                    <tbody>
-                                          <tr>
-                                              <td><input id="escala4" maxlength="100" type="text" style=" width: 98%" /> </td>
-                                              <td>De: <input id="rm4" type="text" style="width: 30px"/>  a: <input id="rM4" type="text" style="width: 30px"/></td>
-                                              <td>4</td>
-                                          </tr>
-                                          <tr>
-                                              <td><input maxlength="100" id="escala3" type="text" style=" width: 98%"/></td>
-                                              <td>De:  <input id="rm3" type="text" style="width: 30px"/> a: <input id="rM3" type="text" style="width: 30px"/> </td>
-                                              <td>3</td>
-                                          </tr>
-                                          <tr>
-                                              <td><input id="escala2" maxlength="100" type="text" style=" width: 98%"/></td>
-                                              <td>De:  <input id="rm2" type="text" style="width: 30px"/> a: <input id="rM2" type="text" style="width: 30px"/></td>
-                                              <td>2</td>
-                                          </tr>
-                                          <tr>
-                                              <td><input id="escala1" type="text" maxlength="100" style=" width: 98%"/></td>
-                                              <td>De: <input id="rm1" type="text" style="width: 30px"/> a: <input id="rM1" type="text" style="width: 30px"/></td>
-                                              <td>1</td>
-                                          </tr>
-                                          <tr>
-                                              <td><input maxlength="100" id="escala0" type="text" style=" width: 98%"/></td>
-                                              <td>De:  <input id="rm0" type="text" style="width: 30px"/> a: <input id="rM0" type="text" style="width: 30px"/> </td>
-                                              <td>0</td>
-                                          </tr>                                          
-                                    </tbody>                                    
-                                </table>                                                               
-                                        <input type="button" id="guardarVar" onclick="guardarVariable();" value="Guardar"/>
-                                        <input type="button" id="clearVar" onclick="limpiarVariable();" value="Limpiar"/>          
-                            </form>
-                            </div><br>
-                        </div>
-                        <iframe src="tableVariable.jsp" style=" width: 100%; height: 500px;" frameborder="0" scrolling="false"  id="fraVar"></iframe>                      
-                    </div>
-                </div>
-                <div id="tabItem" style="height: 70em;">
-                    <div>
-                        <br>
-                        <div align="center">
-                            <div class="divPanel" style="width: 90%; height: 200px;">
-                            <h2>Nuevo Item</h2>
-                            <form id="newItem">
-                                <table>
-                                    <tr>
-                                        <td>Item:</td>
-                                        <td><textarea id="newItemDesc" maxlength="200" cols="40" rows="5"></textarea> </td>
-                                        <td>&nbsp; &nbsp;</td>
-                                        <td>Variable:</td>
-                                        <td><select id="varItem" style="width: 35em">
-                                                    <% 
-                                                   Variable var = new Variable();
-                                                   VariableDaoImpl vdi = new VariableDaoImpl();
-                             
-                                                   List<Variable> listaVar = vdi.findAll(); 
-                                                   Iterator<Variable> iteratorVar = listaVar.iterator();                                                                             
-                                                   iteratorVar = listaVar.iterator();
-                                                                             
-                                                   while(iteratorVar.hasNext()){
-                                                       var = iteratorVar.next();
-                                                       if(var.getEstado() == true){
-                                                     %>
-                                                     <option value="<%= var.getIdVariable().toString() %>"><%= var.getNombre() %></option>
-                                                                                 
-                                                     <% }                                                                                 
-                                                        } %>                                                                                                                                                               
-                                           </select></td>
-                                    </tr>
-                                </table>
-                                           <input type="button" id="guardarItem" value="Guardar" onclick="guardarIt();"/>
-                                           <input type="button" id="clearItem" value="Limpiar" onclick="limpiarItem();"/>
-                            </form>
-                            </div><br>
-                        </div>
-                        <iframe src="tableItem.jsp" style=" width: 100%; height: 600px;" frameborder="0" scrolling="false"  id="fraItem"></iframe>                                                                  
-                    </div>
-                </div>
-                <div id="tabEscala" style="height: 50em;">
-                 <iframe src="tableEscala.jsp" style=" width: 100%; height: 100%;" frameborder="0" scrolling="false"  id="fraEscala"></iframe>                                                                          
-                </div>
-                <div id="tabSugerencia" style="height: 70em;">
-                    <div>
-                        <div align="center">
-                            <div class="divPanel" style="width: 99%; height: 170px;">
-                            <h2>Nueva Sugerencia</h2>
-                            <form id="sugItem">
-                                <table style="width: 100%" >
-                                    <tr>
-                                        <td style="width: 60px" >Sugerencia:</td>
-                                        <td style="width: 300px"><textarea id="txtsuge" cols="30" style="width: 300px" maxlength="200" rows="3"></textarea></td>
-                                        
-                                        <td style="width: 80px">Items Relacionados:</td>
-                                        <td style="width: 330px">
-                                            <select id="selectItem" style="width: 325px;"  multiple="multiple">
-                                                <%
-                                                 Item it = new Item();
-                                                 ItemDaoImpl idi = new ItemDaoImpl();
-                                                 
-                                                 List<Item> listIt = idi.findAll();
-                                                 Iterator<Item> itit = listIt.iterator();
-                                                 while(itit.hasNext()){
-                                                     it = itit.next();
-                                                     if(it.getEstado()==1){%>
-                                                     <option value="<%= it.getIdItem().toString() %>"><%= it.getDescripcion() %></option> 
-                                                     
-                                                     <%}                                             
- }                                                                                                                                                                                                                                                
-%>
-                                            </select>
-                                        </td>
-                                    </tr>
-                                </table><br>
-                                        <input type="button" id="guardarSuger" onclick="guardarSugerencia();" value="Guardar"/>
-                                        <input type="button" id="clearSugerencia" onclick="limpiarSugerencia();" value="Limpiar"/> 
-                            </form><br><br>
-                            </div><br>
-                      <iframe src="tableSugerencias.jsp" style=" width: 100%; height: 600px;" frameborder="0" scrolling="false"  id="fraSug"></iframe>                                
-                        </div>              
-                    </div>   
-                </div>
-           
-            </div>
-           
-         
-       </div>
-                                            
-  <div class="footer">
-    
-      <p>Copyright © Sitename.com. <a href="http://dreamtemplate.com/">dreamtemplate.com</a>. All Rights Reserved</p>
-     
-    
-  </div>                                     
-                                            
-    </body>
-</html>
-<% } %>
\ No newline at end of file
diff --git a/web/main_admin.jsp b/web/main_admin.jsp
deleted file mode 100644
index c89bdac..0000000
--- a/web/main_admin.jsp
+++ /dev/null
@@ -1,619 +0,0 @@
-<%--
-    Document   : main_admin
-    Created on : Dec 10, 2010, 3:40:24 PM
-    Author     : mamg
---%>
-
-
-<%@page import="daoImpl.AccesoDaoImpl"%>
-<%@page import="pojo.Acceso"%>
-<%@page import="daoImpl.EscalaDaoImpl"%>
-<%@page import="pojo.Escala"%>
-<%@page import="daoImpl.ItemDaoImpl"%>
-<%@page import="pojo.Item"%>
-<%@page import="daoImpl.VariableDaoImpl"%>
-<%@page import="pojo.Variable"%>
-<%@page import="daoImpl.SugerenciaDaoImpl"%>
-<%@page import="pojo.Sugerencia"%>
-<%@page import="daoImpl.AsignacionCapaContraDaoImpl"%>
-<%@page import="pojo.AsignacionCapaContra"%>
-<%@page import="java.util.Iterator"%>
-<%@page import="java.util.List"%>
-<%@page import="daoImpl.IndicadorDaoImpl"%>
-<%@page import="pojo.Indicador"%>
-<%@page import="daoImpl.encriptar"%>
-<%@page import="daoImpl.EmpresaDaoImpl"%>
-<%@page import="pojo.Empresa"%>
-<%@page import="daoImpl.UsuarioDaoImpl"%>
-<%@page import="pojo.Usuario"%>
-<%@page contentType="text/html" pageEncoding="UTF-8"%>
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
-   "http://www.w3.org/TR/html4/loose.dtd">
-
-<%
-response.setHeader("Cache-Control","no-cache");
-response.setHeader("Cache-Control","no-store");
-response.setDateHeader("Expires", 0);
-%>
-<html>
-    <head>
-        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-        <META HTTP-EQUIV="Expires" CONTENT="-1">
-        <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
-        <META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
-        <title>SECE</title>
-        <% HttpSession sesion=request.getSession();
-        
-           String val = (String)sesion.getAttribute("idAcc");
-           if(val==null){
-              response.sendRedirect("index.jsp");
-           } else{     
-                %>       
-        <link rel="stylesheet" type="text/css" href="resources/css/styles.css"/>
-        <link type="text/css" href="resources/Nuestro_CSS.css" rel="stylesheet"/>
-        <link type="text/css" href="resources/jquery/css/redmond/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
-         <link href="resources/css/message.css" rel="stylesheet" type="text/css" />
-         <script type="text/javascript" src="/sece/dwr/interface/updating.js"></script>         
-         <script type="text/javascript" src="/sece/dwr/interface/capacitadoresDWR.js"></script>
-        <script type="text/javascript" src="/sece/dwr/engine.js"></script>
-        <script type="text/javascript" src="/sece/dwr/util.js"></script>
-        <script type="text/javascript" src="resources/jquery/js/jquery-1.4.4.min.js"></script>        
-	<script type="text/javascript" src="resources/jquery/js/jquery-ui-1.8.7.custom.min.js"></script>
-        <script type="text/javascript" src="resources/jquery/js/jquery.corner.js"></script>
-         <script type="text/javascript" src="resources/jquery/js/jquery.validate.js"></script> 
-        <style type="text/css">
-            label, input { display:block; }
-		input.text { margin-bottom:12px; width:95%; padding: .4em; }
-		fieldset { padding:0; border:0; margin-top:25px; }
-		h1 { font-size: 1.2em; margin: .6em 0; }
-		div#users-contain { width: 350px; margin: 20px 0; }
-		div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
-		div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
-		.ui-dialog .ui-state-error { padding: .3em; }
-		.validateTips { border: 1px solid transparent; padding: 0.3em; }
-            
-        </style>
-        
-        <link href="resources/style.css" rel="stylesheet" type="text/css" />
-        <script>
-            $(function(){
-              $("#tabs").tabs();              
-               $("#btnClearCap").button();
-               $("#btnNewCapacitador").button(); 
-               $("#btnRepEPA").button();
-      $("#btnRepEHE").button();
-      $("#btnRepERE").button();
-      $("#btnRepCap").button();
-      $("#btnRepUsers").button(); 
-               
-  }); 
-    
-  
-               function callback() {//function para esconder el div de mensaje con efecto
-			setTimeout(function() {
-				$( "#box_message:visible" ).removeAttr( "style" ).slideUp();//fadeOut();
-			}, 1000 );
-		};
-            $( "#box_message" ).hide();//escondo el contenido del div para los mensajes
-       function goout(){
-            location.href="salir";
-        } 
-            
-             
-        </script>
-        <%
-           Acceso acc = new Acceso();
-           AccesoDaoImpl adi = new AccesoDaoImpl();
-           acc = adi.findById(Integer.valueOf(val));
-          
-        
-           Usuario usu = new Usuario();
-           UsuarioDaoImpl udi = new UsuarioDaoImpl();
-           usu = acc.getUsuario(); 
-           int iduser = usu.getIdUsuario();
-           usu = udi.findById(iduser);
-                   if(usu.getTipoUsuario()!= 1){
-                       response.sendRedirect("index.jsp"); 
-                   }
-            sesion.setAttribute("idAcc", val);          
-           
-                                                 
-        %>       
-        
-        
-        <%--     aqui empieza el modal para actualizar   --%>
-        	<script>
-      //Codigo javaScript para Actualizar datos personales del Administrador               
-	$(function() {
-		// a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!
-		
-		  $( "#dialog:ui-dialog" ).dialog( "destroy" );
-		var updatenombre = $( "#updatenombre" ),
-                    updatecargo = $("#updatecargo"),
-                    updatetel = $("#updatetel"),
-                    updatemail = $("#updatemail"),
-                    updatedir = $("#updatedir"),
-			/*email = $( "#email" ),
-			password = $( "#password" ),*/
-        allFields = $( [] ).add(updatenombre).add(updatecargo).add(updatetel).add(updatemail).add(updatedir),
-			tips = $( ".validateTips" );
-
-		function updateTips( t ) {
-			tips
-				.text( t )
-				.addClass( "ui-state-highlight" );
-			setTimeout(function() {
-				tips.removeClass( "ui-state-highlight", 1500 );
-			}, 500 );
-		}
-
-		function checkLength( o, n, min, max ) {
-			if ( o.val().length > max || o.val().length < min ) {
-				o.addClass( "ui-state-error" );
-				updateTips( "El " + n + " debe de contener entre " +
-					min + " y " + max + " caracteres." );
-				return false;
-			} else {
-				return true;
-			}
-		}
-
-		function checkRegexp( o, regexp, n ) {
-			if ( !( regexp.test( o.val() ) ) ) {
-				o.addClass( "ui-state-error" );
-				updateTips( n );
-				return false;
-			} else {
-				return true;
-			}
-		}
-		
-                                
-		$( "#dialog-formUpdate" ).dialog({
-			
-                        autoOpen: false,
-			height:350,
-			width: 300,
-			modal: true,
-                        show: "slide",
-                        hide: "scale",
-			buttons: {
-				"Actualizar": function() {
-                                       
-					var bValid = true;
-					allFields.removeClass( "ui-state-error" );
-
-					bValid = bValid && checkLength( updatenombre, "Nombre", 5, 50 );
-					bValid = bValid && checkLength( updatecargo, "Cargo", 5, 30 );
-					bValid = bValid && checkLength( updatemail, "E-Mail", 8, 50 );
-                                        bValid = bValid && checkLength( updatetel, "Telefono", 7, 8 );
-                                        bValid = bValid && checkLength( updatedir, "Direccion", 5, 200 );
-                                        
-					//bValid = bValid && checkRegexp( name, /^[a-z]([0-9a-z_])+$/i, "Username may consist of a-z, 0-9, underscores, begin with a letter." );
-					// From jquery.validate.js (by joern), contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/
-					bValid = bValid && checkRegexp( updatemail, /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, "El E-Mail debe de ser válido" );
-					//bValid = bValid && checkRegexp( password, /^([0-9a-zA-Z])+$/, "Password field only allow : a-z 0-9" );
-                                         var id;
-                                         var nombre;
-                                         var cargo;
-                                         var mail;
-                                         var tele;
-                                         var dire;
-                                         
-					if ( bValid ) {
-                                              id = dwr.util.getValue("idAdmin");
-                                              nombre = dwr.util.getValue("updatenombre");
-                                              cargo = dwr.util.getValue("updatecargo");
-                                              tele = dwr.util.getValue("updatetel");
-                                              mail = dwr.util.getValue("updatemail");
-                                              dire = dwr.util.getValue("updatedir");
-                                              
-                                              updating.datosPersonales(id,nombre, cargo, tele, mail, dire, resultado);
-                                              
-                                                                                                                                       
-                                              $('#dialog-formUpdate').dialog( 'close' );
-					}
-				},
-                                
-                                
-                                
-				Cancel: function() {
-					$( this ).dialog( "close" );
-				}
-			},
-			close: function() {
-				//allFields.val( "" ).removeClass( "ui-state-error" );
-			}
-                        
-                        
-		});
-                
-                function resultado(data){
-                          var resp = data
-                          if(resp == 0){
-                             location.reload();
-                          }
-                                    
-                                }
-                
-
-		$( "#updateButton" )
-			.button()
-			.click(function() {
-				$( "#dialog-formUpdate" ).dialog( "open" );
-			});
-                       
-                        
-	});</script>
-                <%--     aqui termina el modal para actualizar   --%>
-                <script>
-                    $(function(){
-                        $( "#dialog:ui-dialog" ).dialog( "destroy" );
-                        
-                        var pasAct = $("#actContra"),
-                         ncontra1 = $("#nContra1"),
-                         ncontra2 = $("#nContra2"),
-                     
-                        allFields = $( [] ).add(pasAct).add(ncontra1).add(ncontra2),
-                        tips = $( ".validateTips2" );
-                        
-                        function updateTips( t ) {
-			tips
-				.text( t )
-				.addClass( "ui-state-highlight" );
-			setTimeout(function() {
-				tips.removeClass( "ui-state-highlight", 1500 );
-			}, 500 );
-		}
-
-		function checkLength( o, n, min, max ) {
-			if ( o.val().length > max || o.val().length < min ) {
-				o.addClass( "ui-state-error" );
-				updateTips( "El " + n + " debe de contener entre " +
-					min + " y " + max + " caracteres." );
-				return false;
-			} else {
-				return true;
-			}
-		}
-                             
-                function checkPassword(nc1, nc2){
-                    if(nc1.val() == nc2.val()){
-                        return true;
-                    }else{
-                        nc1.addClass("ui-state-error");
-                        nc2.addClass("ui-state-error");
-                        updateTips("Las Contraseñas no coinciden, verifique.");
-                        return false;
-                    }
-                    
-                }
-                        
-                        
-                        $("#dialogUpdatePassword").dialog({
-                             autoOpen: false,
-			     height:300,
-			     width: 350,
-			     modal: true,
-                             show: "slide",
-                             hide: "scale",
-                             buttons: {
-                                "Actualizar": function(){
-                                      var bValid = true;
-				      allFields.removeClass( "ui-state-error" ); 
-                                      
-                                       bValid = bValid && checkLength(pasAct, "Contraseña Actual", 4, 50);
-                                       bValid = bValid && checkLength(ncontra1, "Nueva Contraseña", 5, 50);
-                                       bValid = bValid && checkLength(ncontra2, "Nueva Contraseña Repetida", 5, 50);
-                                       bValid = bValid && checkPassword(ncontra1, ncontra2);
-                                       
-                                       var id;
-                                       var p;
-                                       var np1;
-                                      
-                                        if(bValid){
-                                          id = dwr.util.getValue("idAdmin");                                         
-                                          p = dwr.util.getValue("actContra");                                         
-                                          np1 = dwr.util.getValue("nContra1");                                       
-                                           
-                                          updating.password(id, p, np1, resultado);
-                                          
-                                       }                                       
-                                 },                       
-                               
-                               
-                              Cancel: function() {
-					$( this ).dialog( "close" );
-				}   
-                             },   
-                              
-                             close: function() {
-				allFields.val( "" ).removeClass( "ui-state-error" );
-			}
-                            
-                        });
-                            
-                        function resultado(data){
-                            var resp = data;
-                            
-                            if(resp == 0){
-                                pasAct.addClass("ui-state-error");
-                                updateTips("La contraseña no coincide con la de la Base de datos, verifique.");
-                            }else{
-                                $("#dialogUpdatePassword").dialog("close");
-                                allFields.removeClass( "ui-state-error" );
-                                alert("La contraseña se cambió correctamente");
-                            }
-                        }    
-                        
-                        
-                        
-                         $("#chagepass").button().click(function(){  
-                            
-                             $("#dialogUpdatePassword").dialog("open"); });
-                    });
-                    
-                </script>        
-                
-         <script>
-	 function newCapacitador(){
-            var nombre = $("#nNomCap").val();
-            var cargo = $("#nCarCap").val();
-            var telefono = $("#nTelCap").val();
-            var email = $("#nCorCap").val();
-            var dire = $("#nDirCap").val();
-            var contra = $("#nConCap").val();          
-                
-           
-               if(nombre == ""|| cargo == "" || telefono == "" || email == "" || dire == "" || contra == "" ){
-                var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Campo Vacio</strong><p class='hola'>Todos los datos son requeridos.</p></div><!-- /Notification --></section>";  
-               $("#box_message").html(palabra);               
-               $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
-                   
-               }
-               else if(!ValidaMail(email)){
-                   var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>E-mail incorrecto</strong><p class='hola'>El E-mail no es válido.</p></div><!-- /Notification --></section>";  
-                $("#box_message").html(palabra);               
-                $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
-            } else if(!(/\d/.test(telefono))){
-                   var palabra="<section role='principal' id='message_box'><div class='notification attention'><a href='#' class='close-notification' title='Hide Notification' rel='tooltip'>x</a><p class='hola'><strong class='hola'>Teléfono Incorrecto</strong><p class='hola'>El numero telefonico no es valido.</p></div><!-- /Notification --></section>";  
-                $("#box_message").html(palabra);               
-                $( "#box_message" ).show("blind",callback);//codigo que muestra el div de mensaje 
-               }
-               else{                   
-                   capacitadoresDWR.newCapacitador(nombre, cargo, telefono, dire, email, contra);
-                   document.getElementById("cap").src = "tablaCapacitadores.jsp";
-                    
-                    clearCapacitador();
-               }            
-         }   
-         function clearCapacitador(){
-             document.getElementById("nNomCap").value = "";
-             document.getElementById("nCarCap").value = "";
-             document.getElementById("nTelCap").value = "";
-             document.getElementById("nCorCap").value = "";
-             document.getElementById("nDirCap").value = "";
-             document.getElementById("nConCap").value = "";
-         }
-         function ValidaMail(mail) {
-         var exr = /^[0-9a-z_\-\.]+@[0-9a-z\-\.]+\.[a-z]{2,4}$/i;
-          return exr.test(mail);
-          }
-    function reporteEPA(){
-        
-        window.open("generadorReport?tipo=0&user=<%= usu.getNombre() %>", "_blank");
-    }
-    function reporteEHE(){
-        
-        window.open("generadorReport?tipo=1&user=<%= usu.getNombre() %>", "_blank");
-    }
-    function reporteERE(){
-        
-        window.open("generadorReport?tipo=2&user=<%= usu.getNombre() %>", "_blank");
-    }
-    function reporteCap(){
-        
-        window.open("listaCap?user=<%= usu.getNombre() %>", "_blank");
-    }
-    function reporteUsers(){
-        
-        window.open("reportUsers?user=<%= usu.getNombre() %>", "_blank");
-    }
-    
-     
-
-	</script>
-    </head>
-    <body>
-        
-        <div class="main">
-            <%-- **************Menu*****************--%>
-        
-  
-
-       <%-- **************Menu*****************--%>   
-  <div class="header"> 
-      
-    <div class="header_resize">         
-      <div class="menu">        
-          
-          
-      </div>
-      <div class="clr"></div>
-       <div class="menuAdmin">
-          <img src="images/home.png"  onclick="location.href='main_admin.jsp';" width="60" height="60" border="0" alt="edit"/>
-          <img src="images/editar.png" onclick="location.href='admin_instrument.jsp';" width="60" height="60" border="0" alt="edit"/>         
-       </div>     
-      <div class="inGo">
-          <a href="#" onclick="goout();" ><strong>Salir</strong></a>          
-      </div>
-      <h2>Bienvenido <%= usu.getNombre() %></h2>
-        <div id="box_message" >                           
-        </div>
-   </div>
-      
-  </div>
-           
-            <div id="tabs" style="margin-left: 1%; margin-right: 1%; height: 55em" >
-                <ul>
-                    <li><a href="#tabCapacitadores"><span>CAPACITADORES</span></a></li>
-                    <li><a href="#tabReportes"><span>REPORTES</span></a></li>
-                    <li><a href="#tabPerfil"><span>PERFIL</span></a></li>
-                    
-                </ul>
-                        <div id="tabCapacitadores">
-                            <div align="center">
-                                <div class="divPanel" style="width: 500px; height: 180px;">
-                                 <h2 align="center" >Nuevo Capacitador</h2>                     
-                                <form id="newCapacitador">
-                                <table align="center" >
-                                    <tr>
-                                        <td>Nombre:</td>
-                                        <td><input type="text" id="nNomCap" maxlength="50" /><label></label></td>
-                                        <td>Correo:</td>
-                                        <td><input type="text" id="nCorCap" maxlength="50" /><label></label></td>
-                                    </tr>
-                                    <tr>
-                                        <td>Cargo:</td>
-                                        <td><input type="text" id="nCarCap" maxlength="30" /></td>
-                                        <td>Direcci&oacuten:</td>
-                                        <td><input type="text" id="nDirCap" maxlength="200" /></td>
-                                    </tr>
-                                    <tr>
-                                        <td>Tel&eacutefono:</td>
-                                        <td><input type="text" id="nTelCap" maxlength="8"  /></td>
-                                        <td>Contrase&ntildea:</td>
-                                        <td><input type="password" id="nConCap" maxlength="50"/></td>
-                                    </tr>                          
-                                </table>
-                                    <div align="center" ><input id="btnNewCapacitador" onclick="newCapacitador();" type="button" value="Guardar"/>
-                                     <input id="btnClearCap" onclick="clearCapacitador();" type="button" value="Limpiar"/></div>
-                                    
-                                 </form>
-                                      
-                                  </div><br>
-                                                         
-                            
-                             <iframe src="tablaCapacitadores.jsp" style=" width: 100%; height: 420px" frameborder="0" scrolling="false"  id="cap"></iframe> 
-                        </div>
-                            </div>  
-                <div id="tabReportes" align="center" style=" padding-top: 200px " >
-                    <div class="divPanel" style="width: 1000px; padding-top: 5px; height: 80px;">
-                    <input id="btnRepEPA" onclick="reporteEPA();" type="button" value="Empresas Pendientes de Activación"/>
-                    <input id="btnRepEHE" onclick="reporteEHE();" type="button" value="Empresas Haciendo Evaluación"/>
-                    <input id="btnRepERE" onclick="reporteERE();" type="button" value="Empresas que ya Terminaron"/>
-                    <input id="btnRepCap" onclick="reporteCap();" type="button" value="Capacitadores"/>
-                    <input id="btnRepUsers" onclick="reporteUsers();" type="button" value="Usuarios de SECE"/>
-                    
-                    </div>
-                </div>
-
-                <div id="tabPerfil" style="height: 5em;" align="center" >
-                    
-         <%--      Formulario Modal Actualizar Password     --%>                   
-         <div id="dialogUpdatePassword" title="Cambie su contraseña">
-             <p class="validateTips2">Aseg&uacuterese de ingresar bien la contraseña</p>
-             <form>
-                 <fieldset>
-                     <table>
-                          <tr>
-                             <td>Contrase&ntildea Actual:</td>
-                             <td><input id="actContra" style="width:15em" value="" type="password"/></td>
-                          </tr>
-                          <tr>
-                             <td>Nueva Contrase&ntildea:</td>
-                             <td><input id="nContra1" style="width:15em" value="" type="password"/></td>
-                          </tr>
-                          <tr>
-                             <td>Repita Nueva Contrase&ntildea:</td>
-                             <td><input id="nContra2" style="width:15em" value="" type="password"/></td>
-                          </tr>
-                         
-                     </table>
-                     
-                 </fieldset>                 
-             </form>
-         </div>                     
-                            
-         <%--      Formulario Modal Actualizar Datos Personales     --%>
-     <div id="dialog-formUpdate" title="Actualice sus Datos">
-	<p class="validateTips">Todos los campos son requeridos.</p>
-
-        <form>
-	<fieldset>
-            <input id="idAdmin" type="hidden" value="<%= iduser %>"/>
-	        <table>
-                                <tr>
-                                    <td>Nombre:</td>
-                                    <td><input id="updatenombre" style="width:15em" value="<% out.print(usu.getNombre()); %>"/></td>
-                                </tr>
-                                <tr>
-                                    <td>Cargo:</td>
-                                    <td><input id="updatecargo" style="width:15em" value="<% out.print(usu.getCargo()); %>"/></td>
-                                </tr>
-                                <tr>
-                                    <td>Telefono:</td>
-                                    <td><input id="updatetel" style="width:15em" value="<% out.print(usu.getTelefono()); %>"/></td>
-                                </tr>
-                                <tr>
-                                    <td>Correo:</td>
-                                    <td><input id="updatemail" style="width:15em" value="<% out.print(usu.getCorreo()); %>"/></td>
-                                </tr>
-                                <tr>
-                                    <td>Direccion:</td>
-                                    <td><input id="updatedir" style="width:15em" value="<% out.print(usu.getDireccion()); %>"/></td>
-                                </tr>
-                                                               
-                  </table>   	
-	</fieldset>
-	</form>
-     </div> 
-         <%--      Formulario Modal      --%>  
-         <br>
-         <br>
-         <div align="center" style="width: 350px; height: 250px;" class="divPanel"><br>
-                            <h2>Puede modificar sus Datos</h2>
-                            <table>
-                                <tr>
-                                    <td>Nombre:</td>
-                                    <td><% out.print(usu.getNombre()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Cargo:</td>
-                                    <td><% out.print(usu.getCargo()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Telefono:</td>
-                                    <td><% out.print(usu.getTelefono()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Correo:</td>
-                                    <td><% out.print(usu.getCorreo()); %></td>
-                                </tr>
-                                <tr>
-                                    <td>Direccion:</td>
-                                    <td><% out.print(usu.getDireccion()); %></td>
-                                </tr>
-                           </table> <br>
-                                    <button id="updateButton">Editar Información</button>
-                                    <button id="chagepass">Cambiar Contraseña</button>
-                                
-                                
-                            
-                      </div> 
-                </div>
-        </div>                        
-                
-            </div>
-            <div class="footer">
-    
-      <p>Copyright © Sitename.com. <a href="http://dreamtemplate.com/">dreamtemplate.com</a>. All Rights Reserved</p>
-     
-    
-  </div>  
-   
-
-    </body>
-</html>
-
-<% } %>
\ No newline at end of file
-- 
1.7.8.msysgit.0

